(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1081],{71081:(r,e,a)=>{var t=a(99742);!function(){var e,a,n,i,f,o,v,s,u,l,c,d,h,w,g,x,b,_,p,m,A,U,I,y,E={};function M(){void 0===t&&console.log.apply(console,arguments)}r.exports=E,function(){"use strict";var r=function(){function r(r){this.message="JPEG error: "+r}return r.prototype=Error(),r.prototype.name="JpegError",r.constructor=r,r}();function e(r,e){return r[e]<<8|r[e+1]}E.JpegDecoder=function(){var a=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function t(r){null==r&&(r={}),null==r.w&&(r.w=-1),this.V=r.n,this.N=r.w}function n(r,e,a){return 64*((r.P+1)*e+a)}function i(r,a,t){null==t&&(t=a);var n=r.length-1,i=t<a?t:a;if(a>=n)return null;var f=e(r,a);if(f>=65472&&f<=65534)return{u:null,M:f,offset:a};for(var o=e(r,i);!(o>=65472&&o<=65534);){if(++i>=n)return null;o=e(r,i)}return{u:f.toString(16),M:o,offset:i}}return t.prototype={parse(t,f){null==f&&(f={});var o,v,s=f.F,u=0,l=null,c=null,d=0,h=[],w=[],g=[],x=e(t,0);if(u+=2,65496!==x)throw new r("SOI not found");x=e(t,u),u+=2;r:for(;65497!==x;){switch(x){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var b=function(){var r=e(t,u),a=(u+=2)+r-2,n=i(t,a,u);n&&n.u&&(a=n.offset);var f=t.subarray(u,a);return u+=f.length,f}();65504===x&&74===b[0]&&70===b[1]&&73===b[2]&&70===b[3]&&0===b[4]&&(l={version:{d:b[5],T:b[6]},K:b[7],j:b[8]<<8|b[9],H:b[10]<<8|b[11],S:b[12],I:b[13],C:b.subarray(14,14+3*b[12]*b[13])}),65518===x&&65===b[0]&&100===b[1]&&111===b[2]&&98===b[3]&&101===b[4]&&(c={version:b[5]<<8|b[6],k:b[7]<<8|b[8],q:b[9]<<8|b[10],a:b[11]});break;case 65499:for(var _,p,m,A,U=e(t,u),I=U+(u+=2)-2;u<I;){var y=t[u++],E=new Uint16Array(64);if(y>>4==0)for(p=0;p<64;p++)E[a[p]]=t[u++];else if(y>>4==1)for(p=0;p<64;p++)E[a[p]]=e(t,u),u+=2;else throw new r("DQT - invalid table spec");h[15&y]=E}break;case 65472:case 65473:case 65474:if(o)throw new r("Only single frame JPEGs supported");u+=2,(o={}).G=65473===x,o.Z=65474===x,o.precision=t[u++];var M,D=e(t,u),k=0,B=0;u+=2,o.s=s||D,o.o=e(t,u),u+=2,o.W=[],o._={};var F=t[u++];for(_=0;_<F;_++){M=t[u];var P=t[u+1]>>4,C=15&t[u+1];k<P&&(k=P),B<C&&(B=C);var L=t[u+2];m=o.W.push({h:P,A:C,L:L,$:null}),o._[M]=m-1,u+=3}o.X=k,o.B=B,function(r){for(var e=Math.ceil(r.o/8/r.X),a=Math.ceil(r.s/8/r.B),t=0;t<r.W.length;t++){W=r.W[t];var n=Math.ceil(Math.ceil(r.o/8)*W.h/r.X),i=Math.ceil(Math.ceil(r.s/8)*W.A/r.B),f=e*W.h,o=64*(a*W.A)*(f+1);W.D=new Int16Array(o),W.P=n,W.c=i}r.m=e,r.R=a}(o);break;case 65476:var S=e(t,u);for(u+=2,_=2;_<S;){var G=t[u++],N=new Uint8Array(16),O=0;for(p=0;p<16;p++,u++)O+=N[p]=t[u];var J=new Uint8Array(O);for(p=0;p<O;p++,u++)J[p]=t[u];_+=17+O,(G>>4==0?g:w)[15&G]=function(r,e){for(var a,t,n,i=0,f=[],o=16;o>0&&!r[o-1];)o--;f.push({children:[],index:0});var v=f[0];for(a=0;a<o;a++){for(t=0;t<r[a];t++){for((v=f.pop()).children[v.index]=e[i];v.index>0;)v=f.pop();for(v.index++,f.push(v);f.length<=a;)f.push(n={children:[],index:0}),v.children[v.index]=n.children,v=n;i++}a+1<o&&(f.push(n={children:[],index:0}),v.children[v.index]=n.children,v=n)}return f[0].children}(N,J)}break;case 65501:u+=2,v=e(t,u),u+=2;break;case 65498:var W,j=1==++d&&!s;u+=2;var T=t[u++],R=[];for(_=0;_<T;_++){var q=t[u++],Z=o._[q];(W=o.W[Z]).index=q;var H=t[u++];W.J=g[H>>4],W.i=w[15&H],R.push(W)}var Q=t[u++],z=t[u++],X=t[u++];try{var V=function(t,f,o,v,s,u,l,c,d,h){null==h&&(h=!1);var w,g,x,b,_,p,m,A,U,I,y,E=o.m,M=o.Z,D=f,k=0,B=0,F=0,P=0,C=0,L=0;function S(){if(B>0)return B--,k>>B&1;if(255===(k=t[f++])){var a=t[f++];if(a){if(220===a&&h){var n=e(t,f+=2);if(f+=2,n>0&&n!==o.s)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",n)}else if(217===a){if(h){var i=8*C;if(i>0&&i<o.s/10)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",i)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new r("unexpected marker")}}return B=7,k>>>7}function G(e){for(var a=e;;){switch(typeof(a=a[S()])){case"number":return a;case"object":continue}throw new r("invalid huffman sequence")}}function N(r){for(var e=0;r>0;)e=e<<1|S(),r--;return e}function O(r){if(1===r)return 1===S()?1:-1;var e=N(r);return e>=1<<r-1?e:e+(-1<<r)+1}var J=v.length;for(m=M?0===u?0===c?function(r,e){var a=G(r.J),t=0===a?0:O(a)<<d;r.D[e]=r.Q+=t}:function(r,e){r.D[e]|=S()<<d}:0===c?function(r,e){if(F>0)return void F--;for(var t=u;t<=l;){var n=G(r.i),i=15&n,f=n>>4;if(0===i){if(f<15){F=N(f)+(1<<f)-1;break}t+=16;continue}var o=a[t+=f];r.D[e+o]=O(i)*(1<<d),t++}}:function(e,t){for(var n,i,f=u,o=0;f<=l;){var v=t+a[f],s=e.D[v]<0?-1:1;switch(P){case 0:if(n=15&(i=G(e.i)),o=i>>4,0===n)o<15?(F=N(o)+(1<<o),P=4):(o=16,P=1);else{if(1!==n)throw new r("invalid ACn encoding");w=O(n),P=o?2:3}continue;case 1:case 2:e.D[v]?e.D[v]+=s*(S()<<d):0==--o&&(P=3*(2===P));break;case 3:e.D[v]?e.D[v]+=s*(S()<<d):(e.D[v]=w<<d,P=0);break;case 4:e.D[v]&&(e.D[v]+=s*(S()<<d))}f++}4===P&&0==--F&&(P=0)}:function(r,e){var t=G(r.J),n=0===t?0:O(t),i=1;for(r.D[e]=r.Q+=n;i<64;){var f=G(r.i),o=15&f,v=f>>4;if(0===o){if(v<15)break;i+=16;continue}var s=a[i+=v];r.D[e+s]=O(o),i++}},U=1===J?v[0].P*v[0].c:E*o.R;L<=U;){var W=s?Math.min(U-L,s):U;if(W>0){for(x=0;x<J;x++)v[x].Q=0;if(F=0,1===J)for(p=0,g=v[0];p<W;p++)!function(r,e,a){C=a/r.P|0;var t=a%r.P,i=n(r,C,t);e(r,i)}(g,m,L),L++;else for(p=0;p<W;p++){for(x=0;x<J;x++)for(b=0,I=(g=v[x]).h,y=g.A;b<y;b++)for(_=0;_<I;_++)!function(r,e,a,t,i){C=(a/E|0)*r.A+t;var f=a%E*r.h+i,o=n(r,C,f);e(r,o)}(g,m,L,b,_);L++}}if(B=0,!(A=i(t,f)))break;if(A.u&&(f=A.offset),A.M>=65488&&A.M<=65495)f+=2;else break}return f-D}(t,u,o,R,v,Q,z,X>>4,15&X,j);u+=V}catch(r){if(r instanceof DNLMarkerError)return this.parse(t,{F:r.s});if(r instanceof EOIMarkerError)break r;throw r}break;case 65500:u+=4;break;case 65535:255!==t[u]&&u--;break;default:var Y=i(t,u-2,u-3);if(Y&&Y.u){u=Y.offset;break}if(u>=t.length-1)break r;throw new r("JpegImage.parse - unknown marker: "+x.toString(16))}x=e(t,u),u+=2}for(_=0,this.width=o.o,this.height=o.s,this.g=l,this.b=c,this.W=[];_<o.W.length;_++){var $=h[(W=o.W[_]).L];$&&(W.$=$),this.W.push({index:W.index,e:function(e,a){for(var t=a.P,i=a.c,f=new Int16Array(64),o=0;o<i;o++)for(var v=0;v<t;v++){var s=n(a,o,v);!function(e,a,t){var n,i,f,o,v,s,u,l,c,d,h,w,g,x,b,_,p,m=e.$,A=e.D;if(!m)throw new r("missing required Quantization Table.");for(var U=0;U<64;U+=8){if(c=A[a+U],d=A[a+U+1],h=A[a+U+2],w=A[a+U+3],g=A[a+U+4],x=A[a+U+5],b=A[a+U+6],_=A[a+U+7],c*=m[U],(d|h|w|g|x|b|_)==0){p=5793*c+512>>10,t[U]=p,t[U+1]=p,t[U+2]=p,t[U+3]=p,t[U+4]=p,t[U+5]=p,t[U+6]=p,t[U+7]=p;continue}d*=m[U+1],h*=m[U+2],w*=m[U+3],g*=m[U+4],x*=m[U+5],b*=m[U+6],_*=m[U+7],n=5793*c+128>>8,i=5793*g+128>>8,f=h,o=b,v=2896*(d-_)+128>>8,l=2896*(d+_)+128>>8,s=w<<4,u=x<<4,i=(n=n+i+1>>1)-i,p=3784*f+1567*o+128>>8,f=1567*f-3784*o+128>>8,o=p,u=(v=v+u+1>>1)-u,s=(l=l+s+1>>1)-s,o=(n=n+o+1>>1)-o,f=(i=i+f+1>>1)-f,p=2276*v+3406*l+2048>>12,v=3406*v-2276*l+2048>>12,l=p,p=799*s+4017*u+2048>>12,s=4017*s-799*u+2048>>12,u=p,t[U]=n+l,t[U+7]=n-l,t[U+1]=i+u,t[U+6]=i-u,t[U+2]=f+s,t[U+5]=f-s,t[U+3]=o+v,t[U+4]=o-v}for(var I=0;I<8;++I){if(c=t[I],d=t[I+8],h=t[I+16],w=t[I+24],g=t[I+32],x=t[I+40],(d|h|w|g|x|(b=t[I+48])|(_=t[I+56]))==0){p=(p=5793*c+8192>>14)<-2040?0:p>=2024?255:p+2056>>4,A[a+I]=p,A[a+I+8]=p,A[a+I+16]=p,A[a+I+24]=p,A[a+I+32]=p,A[a+I+40]=p,A[a+I+48]=p,A[a+I+56]=p;continue}n=5793*c+2048>>12,i=5793*g+2048>>12,f=h,o=b,v=2896*(d-_)+2048>>12,l=2896*(d+_)+2048>>12,s=w,u=x,i=(n=(n+i+1>>1)+4112)-i,p=3784*f+1567*o+2048>>12,f=1567*f-3784*o+2048>>12,o=p,u=(v=v+u+1>>1)-u,s=(l=l+s+1>>1)-s,o=(n=n+o+1>>1)-o,f=(i=i+f+1>>1)-f,p=2276*v+3406*l+2048>>12,v=3406*v-2276*l+2048>>12,l=p,p=799*s+4017*u+2048>>12,s=4017*s-799*u+2048>>12,u=p,c=n+l,_=n-l,d=i+u,b=i-u,h=f+s,x=f-s,c<16?c=0:c>=4080?c=255:c>>=4,d<16?d=0:d>=4080?d=255:d>>=4,h<16?h=0:h>=4080?h=255:h>>=4,(w=o+v)<16?w=0:w>=4080?w=255:w>>=4,(g=o-v)<16?g=0:g>=4080?g=255:g>>=4,x<16?x=0:x>=4080?x=255:x>>=4,b<16?b=0:b>=4080?b=255:b>>=4,_<16?_=0:_>=4080?_=255:_>>=4,A[a+I]=c,A[a+I+8]=d,A[a+I+16]=h,A[a+I+24]=w,A[a+I+32]=g,A[a+I+40]=x,A[a+I+48]=b,A[a+I+56]=_}}(a,s,f)}return a.D}(0,W),l:W.h/o.X,t:W.A/o.B,P:W.P,c:W.c})}this.p=this.W.length},Y(r,e,a){null==a&&(a=!1);var t,n,i,f,o,v,s,u,l,c,d,h,w=this.width/r,g=this.height/e,x=0,b=this.W.length,_=r*e*b,p=new Uint8ClampedArray(_),m=new Uint32Array(r);for(s=0;s<b;s++){if(n=(t=this.W[s]).l*w,i=t.t*g,x=s,d=t.e,f=t.P+1<<3,n!==h){for(o=0;o<r;o++)u=0|o*n,m[o]=(0xfffffff8&u)<<3|7&u;h=n}for(v=0;v<e;v++)for(o=0,c=f*(0xfffffff8&(u=0|v*i))|(7&u)<<3;o<r;o++)p[x]=d[c+m[o]],x+=b}var A=this.V;if(a||4!==b||A||(A=new Int32Array([-256,255,-256,255,-256,255,-256,255])),A)for(s=0;s<_;)for(u=0,l=0;u<b;u++,s++,l+=2)p[s]=(p[s]*A[l]>>8)+A[l+1];return p},get f(){if(this.b)return!!this.b.a;if(3===this.p){if(0===this.N||82===this.W[0].index&&71===this.W[1].index&&66===this.W[2].index)return!1;return!0}if(1===this.N)return!0;return!1},z:function(r){for(var e,a,t,n=0,i=r.length;n<i;n+=3)e=r[n],a=r[n+1],t=r[n+2],r[n]=e-179.456+1.402*t,r[n+1]=e+135.459-.344*a-.714*t,r[n+2]=e-226.816+1.772*a;return r},O:function(r){for(var e,a,t,n,i=0,f=0,o=r.length;f<o;f+=4)e=r[f],a=r[f+1],t=r[f+2],n=r[f+3],r[i++]=-122.67195406894+a*(-660635669420364e-19*a+437130475926232e-18*t-54080610064599e-18*e+48449797120281e-17*n-.154362151871126)+t*(-957964378445773e-18*t+817076911346625e-18*e-.00477271405408747*n+1.53380253221734)+e*(961250184130688e-18*e-.00266257332283933*n+.48357088451265)+n*(-336197177618394e-18*n+.484791561490776),r[i++]=107.268039397724+a*(219927104525741e-19*a-640992018297945e-18*t+659397001245577e-18*e+426105652938837e-18*n-.176491792462875)+t*(-778269941513683e-18*t+.00130872261408275*e+770482631801132e-18*n-.151051492775562)+e*(.00126935368114843*e-.00265090189010898*n+.25802910206845)+n*(-318913117588328e-18*n-.213742400323665),r[i++]=-20.810012546947+a*(-570115196973677e-18*a-263409051004589e-19*t+.0020741088115012*e-.00288260236853442*n+.814272968359295)+t*(-153496057440975e-19*t-132689043961446e-18*e+560833691242812e-18*n-.195152027534049)+e*(.00174418132927582*e-.00255243321439347*n+.116935020465145)+n*(-343531996510555e-18*n+.24165260232407);return r.subarray(0,i)},r:function(r){for(var e,a,t,n=0,i=r.length;n<i;n+=4)e=r[n],a=r[n+1],t=r[n+2],r[n]=434.456-e-1.402*t,r[n+1]=119.541-e+.344*a+.714*t,r[n+2]=481.816-e-1.772*a;return r},U:function(r){for(var e,a,t,n,i=0,f=0,o=r.length;f<o;f+=4)e=r[f],a=r[f+1],t=r[f+2],n=r[f+3],r[i++]=255+e*(-6747147073602441e-20*e+8379262121013727e-19*a+2894718188643294e-19*t+.003264231057537806*n-1.1185611867203937)+a*(26374107616089405e-21*a-8626949158638572e-20*t-2748769067499491e-19*n-.02155688794978967)+t*(-3878099212869363e-20*t-3267808279485286e-19*n+.0686742238595345)-n*(3361971776183937e-19*n+.7430659151342254),r[i++]=255+e*(13596372813588848e-20*e+924537132573585e-18*a+10567359618683593e-20*t+4791864687436512e-19*n-.3109689587515875)+a*(-23545346108370344e-20*a+2702845253534714e-19*t+.0020200308977307156*n-.7488052167015494)+t*(6834815998235662e-20*t+15168452363460973e-20*n-.09751927774728933)-n*(3189131175883281e-19*n+.7364883807733168),r[i++]=255+e*(13598650411385307e-21*e+12423956175490851e-20*a+4751985097583589e-19*t-36729317476630422e-22*n-.05562186980264034)+a*(16141380598724676e-20*a+9692239130725186e-19*t+7782692450036253e-19*n-.44015232367526463)+t*(5068882914068769e-22*t+.0017778369011375071*n-.7591454649749609)-n*(3435319965105553e-19*n+.7063770186160144);return r.subarray(0,i)},getData:function(e){var a=e.width,t=e.height,n=e.forceRGB,i=e.isSourcePDF;if(this.p>4)throw new r("Unsupported color mode");var f=this.Y(a,t,i);if(1===this.p&&n){for(var o=f.length,v=new Uint8ClampedArray(3*o),s=0,u=0;u<o;u++){var l=f[u];v[s++]=l,v[s++]=l,v[s++]=l}return v}if(3===this.p&&this.f)return this.z(f);if(4===this.p){if(this.f)return n?this.O(f):this.r(f);else if(n)return this.U(f)}return f}},t}()}(),E.encodeImage=function(r,e,a,t){var n=Math.round(r.byteLength/(e*a*4)),i=8*n,f=new Uint8Array(r);if(16==i){f=f.slice(0);for(var o=0;o<f.length;o+=2){var v=f[o];f[o]=f[o+1],f[o+1]=v}}for(var s=window&&window.pako?8:1,u=Math.min(a,2*(1e6/(4*e*n)>>>1)),l=[],c=[],d=[],h=0,w=1e3+1e3*!!t+8*Math.ceil(a/u),g=0;g<a;g+=u){var x=g*e*4*n,b=Math.min(f.length,(g+u)*e*4*n)-x,_=new Uint8Array(f.buffer,x,b);8==s&&(_=pako.deflate(_)),l.push(_),c.push(w+h),d.push(_.length),h+=_.length}var p={t256:[e],t257:[a],t258:[i,i,i,i],t259:[s],t262:[2],t273:c,t277:[4],t278:[u],t279:d,t282:[[72,1]],t283:[[72,1]],t284:[1],t286:[[0,1]],t287:[[0,1]],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(t)for(var o in t)p[o]=t[o];var m=new Uint8Array(E.encode([p])),A=new Uint8Array(w+h);A.set(m,0);for(var o=0;o<l.length;o++)A.set(l[o],c[o]);return A.buffer},E.encode=function(r){var e=new Uint8Array(2e4),a=4,t=E._binBE;e[0]=e[1]=77,t.writeUshort(e,2,42);var n=8;t.writeUint(e,a,n),a+=4;for(var i=0;i<r.length;i++){var f=E._writeIFD(t,E._types.basic,e,n,r[i]);n=f[1],i<r.length-1&&((3&n)!=0&&(n+=4-(3&n)),t.writeUint(e,f[0],n))}return e.slice(0,n).buffer},E.decode=function(r,e){null==e&&(e={parseMN:!0,debug:!1});var a=new Uint8Array(r),t=0,n=E._binBE.readASCII(a,t,2);t+=2;var i="II"==n?E._binLE:E._binBE;i.readUshort(a,t),t+=2;var f=i.readUint(a,t);t+=4;for(var o=[];;){var v=i.readUshort(a,f),s=i.readUshort(a,f+4);if(0!=v&&(s<1||13<s)){M("error in TIFF");break}if(E._readIFD(i,a,f,o,0,e),0==(f=i.readUint(a,f+2+12*v)))break}return o},E.decodeImage=function(r,e,a){if(!e.data){var t=new Uint8Array(r),n=E._binBE.readASCII(t,0,2);if(null!=e.t256){e.isLE="II"==n,e.width=e.t256[0],e.height=e.t257[0];var i=e.t259?e.t259[0]:1,f=e.t266?e.t266[0]:1;7==i&&e.t258&&3!=e.t258.length&&8==e.t258[0]&&(e.t258=[8,8,8],e.t277=[3]),null==e.t277&&e.t258&&3==e.t258.length&&(e.t277=[3]);var o=e.t258?e.t258[0]:1,v=e.t277?e.t277[0]:1,s=e.t284?e.t284[0]:1;3!=v&&(s=1),2==s&&M("PlanarConfiguration 2 should not be used!");var u=o*v;1==i&&null!=e.t279&&e.t278&&32803==e.t262[0]&&(u=Math.round(8*e.t279[0]/(e.width*e.t278[0]))),e.t50885&&4==e.t50885[0]&&(u=3*e.t258[0]);var l=8*Math.ceil(e.width*u/8),c=e.t273;(null==c||e.t322)&&(c=e.t324);var d=e.t279;1==i&&1==c.length&&(d=[e.height*(l>>>3)]),(null==d||e.t322)&&(d=e.t325);var h=new Uint8Array(e.height*(l>>>3)),w=0;if(null!=e.t322){var g=e.t322[0],x=e.t323[0],b=Math.floor((e.width+g-1)/g),_=Math.floor((e.height+x-1)/x),p=new Uint8Array(0|Math.ceil(g*x*u/8));console.log("====",b,_);for(var m=0;m<_;m++)for(var A=0;A<b;A++){var U=m*b+A;p.fill(0),E.decode._decompress(e,a,t,c[U],d[U],i,p,0,f,g,x),6==i?h=p:E._copyTile(p,0|Math.ceil(g*u/8),x,h,0|Math.ceil(e.width*u/8),e.height,0|Math.ceil(A*g*u/8),m*x)}w=8*h.length}else{if(null==c)return;var I=e.t278?e.t278[0]:e.height;I=Math.min(I,e.height);for(var U=0;U<c.length;U++){if(1==s){var y=0|Math.ceil(w/8);E.decode._decompress(e,a,t,c[U],d[U],i,h,y,f,e.width,I)}else{var D=new Uint8Array(e.width*I);E.decode._decompress(e,a,t,c[U],d[U],i,D,0,f,e.width,I);for(var k=Math.ceil(c.length/3),y=U%k*e.width*I*3,B=Math.floor(U/k),F=0;F<D.length;F++)h[y+3*F+B]=D[F]}w+=l*I}w=Math.min(w,8*h.length)}e.data=new Uint8Array(h.buffer,0,0|Math.ceil(w/8))}}},E.decode._decompress=function(r,e,a,t,n,i,f,o,v,s,u){if(r.t271&&"Panasonic"==r.t271[0]&&(r.t45&&(6==r.t45[0]||8==r.t45[0])?i=34316:34828==i&&(i=1)),1==i)for(var l=0;l<n;l++)f[o+l]=a[t+l];else if(2==i)E.decode._decodeG2(a,t,n,f,o,s,v);else if(3==i)E.decode._decodeG3(a,t,n,f,o,s,v,!!r.t292&&(1&r.t292[0])==1);else if(4==i)E.decode._decodeG4(a,t,n,f,o,s,v);else if(5==i)E.decode._decodeLZW(a,t,n,f,o,8);else if(6==i)E.decode._decodeOldJPEG(r,a,t,n,f,o);else if(7==i||34892==i)E.decode._decodeNewJPEG(r,a,t,n,f,o);else if(8==i||32946==i){var c=new Uint8Array(a.buffer,t+2,n-6),d=E._inflateRaw(c);o+d.length<=f.length&&f.set(d,o)}else 9==i?E.decode._decodeVC5(a,t,n,f,o,r.t33422):32767==i?E.decode._decodeARW(r,a,t,n,f,o):32773==i?E.decode._decodePackBits(a,t,n,f,o):32809==i?E.decode._decodeThunder(a,t,n,f,o):34316==i?E.decode._decodePanasonic(r,a,t,n,f,o):34713==i?E.decode._decodeNikon(r,e,a,t,n,f,o):34676==i?E.decode._decodeLogLuv32(r,a,t,n,f,o):M("Unknown compression",i);var h=r.t284?r.t284[0]:1,w=r.t258?Math.min(32,r.t258[0]):1,g=2==h?1:r.t277?r.t277[0]:1,x=w*g>>>3,b=Math.ceil(w*g*s/8);if(16==w&&!r.isLE&&null==r.t33422)for(var _=0;_<u;_++)for(var p=o+_*b,m=1;m<b;m+=2){var A=f[p+m];f[p+m]=f[p+m-1],f[p+m-1]=A}if(r.t317&&2==r.t317[0])for(var _=0;_<u;_++){var U=o+_*b;if(16==w)for(var l=x;l<b;l+=2){var I=(f[U+l+1]<<8|f[U+l])+(f[U+l-x+1]<<8|f[U+l-x]);f[U+l]=255&I,f[U+l+1]=I>>>8&255}else if(3==g)for(var l=3;l<b;l+=3)f[U+l]=f[U+l]+f[U+l-3]&255,f[U+l+1]=f[U+l+1]+f[U+l-2]&255,f[U+l+2]=f[U+l+2]+f[U+l-1]&255;else for(var l=x;l<b;l++)f[U+l]=f[U+l]+f[U+l-x]&255}},E.decode._decodePanasonic=function(r,e,a,t,n,i){var f,o,v,s,u,l,c,d,h=e.buffer,w=r.t2[0],g=r.t3[0],x=r.t10[0],b=r.t45[0],_=0,p=0,m=0,A=0,U=6==b?new Uint32Array(18):new Uint8Array(16),I=[0,0],y=[0,0],E=0,M=new Uint8Array(16384),D=new Uint16Array(n.buffer);function k(r){if(0==m){var e=new Uint8Array(h,a+p+8184,8200),t=new Uint8Array(h,a+p,8184);M.set(e),M.set(t,e.length),p+=16384}if(5!=b)return(M[A=(m=m-r&131071)>>3^16368]|M[A+1]<<8)>>(7&m)&~(-1<<r);for(s=0;s<16;s++)U[s]=M[m++],m&=16383}function B(r){return M[m+15-r]}function F(){I[0]=0,I[1]=0,y[0]=0,y[1]=0}if(7==b)throw b;if(6==b){var P=12==x,C=P?function(){U[0]=B(0)<<4|B(1)>>4,U[1]=((15&B(1))<<8|B(2))&4095,U[2]=B(3)>>6&3,U[3]=(63&B(3))<<2|B(4)>>6,U[4]=(63&B(4))<<2|B(5)>>6,U[5]=(63&B(5))<<2|B(6)>>6,U[6]=B(6)>>4&3,U[7]=(15&B(6))<<4|B(7)>>4,U[8]=(15&B(7))<<4|B(8)>>4,U[9]=(15&B(8))<<4|B(9)>>4,U[10]=B(9)>>2&3,U[11]=(3&B(9))<<6|B(10)>>2,U[12]=(3&B(10))<<6|B(11)>>2,U[13]=(3&B(11))<<6|B(12)>>2,U[14]=3&B(12),U[15]=B(13),U[16]=B(14),U[17]=B(15),m+=16,A=0}:function(){U[0]=B(0)<<6|B(1)>>2,U[1]=((3&B(1))<<12|B(2)<<4|B(3)>>4)&16383,U[2]=B(3)>>2&3,U[3]=(3&B(3))<<8|B(4),U[4]=B(5)<<2|B(6)>>6,U[5]=(63&B(6))<<4|B(7)>>4,U[6]=B(7)>>2&3,U[7]=(3&B(7))<<8|B(8),U[8]=B(9)<<2&1020|B(10)>>6,U[9]=(B(10)<<4|B(11)>>4)&1023,U[10]=B(11)>>2&3,U[11]=(3&B(11))<<8|B(12),U[12]=(B(13)<<2&1020|B(14)>>6)&1023,U[13]=(B(14)<<4|B(15)>>4)&1023,m+=16,A=0},L=P?14:11,S=P?128:512,G=P?2048:8192,N=P?16383:65535,O=P?4095:16383,J=w/L,W=16*J,j=P?18:14;for(f=0;f<g-15;f+=16){var T=Math.min(16,g-f),R=W*T;for(M=new Uint8Array(h,a+_,R),m=0,_+=R,v=0,o=0;v<T;v++,o=0){E=(f+v)*w;for(var q=0;q<J;q++)for(C(),F(),l=0,d=0,s=0;s<L;s++){if(c=1&s,s%3==2){var Z=A<j?U[A++]:0;3==Z&&(Z=4),d=S<<Z,l=1<<Z}var H=A<j?U[A++]:0;I[c]?(H*=l,d<G&&y[c]>d&&(H+=y[c]-d),y[c]=H):(I[c]=H,H?y[c]=H:H=y[c]),D[E+o++]=H-15<=N?H-15&N:H+0x7ffffff1>>31&O}}}}else if(5==b){var Q=12==x?10:9;for(f=0;f<g;f++)for(o=0;o<w;o+=Q)k(0),12==x?(D[E++]=((15&U[1])<<8)+U[0],D[E++]=16*U[2]+(U[1]>>4),D[E++]=((15&U[4])<<8)+U[3],D[E++]=16*U[5]+(U[4]>>4),D[E++]=((15&U[7])<<8)+U[6],D[E++]=16*U[8]+(U[7]>>4),D[E++]=((15&U[10])<<8)+U[9],D[E++]=16*U[11]+(U[10]>>4),D[E++]=((15&U[13])<<8)+U[12],D[E++]=16*U[14]+(U[13]>>4)):14==x&&(D[E++]=U[0]+((63&U[1])<<8),D[E++]=(U[1]>>6)+4*U[2]+((15&U[3])<<10),D[E++]=(U[3]>>4)+16*U[4]+((3&U[5])<<12),D[E++]=((252&U[5])>>2)+(U[6]<<6),D[E++]=U[7]+((63&U[8])<<8),D[E++]=(U[8]>>6)+4*U[9]+((15&U[10])<<10),D[E++]=(U[10]>>4)+16*U[11]+((3&U[12])<<12),D[E++]=((252&U[12])>>2)+(U[13]<<6),D[E++]=U[14]+((63&U[15])<<8))}else if(4==b)for(f=0;f<g;f++)for(o=0;o<w;o++)c=1&(s=o%14),0==s&&F(),s%3==2&&(l=4>>3-k(2)),y[c]?0!=(u=k(8))&&(I[c]-=128<<l,(I[c]<0||4==l)&&(I[c]&=~(-1<<l)),I[c]+=u<<l):(y[c]=k(8),(y[c]||s>11)&&(I[c]=y[c]<<4|k(4))),D[E++]=I[1&o];else throw b},E.decode._decodeVC5=function(){var r,e,a,t=[1,0,1,0,2,2,1,1,3,7,1,2,5,25,1,3,6,48,1,4,6,54,1,5,7,111,1,8,7,99,1,6,7,105,12,0,7,107,1,7,8,209,20,0,8,212,1,9,8,220,1,10,9,393,1,11,9,394,32,0,9,416,1,12,9,427,1,13,10,887,1,18,10,784,1,14,10,790,1,15,10,835,60,0,10,852,1,16,10,885,1,17,11,1571,1,19,11,1668,1,20,11,1669,100,0,11,1707,1,21,11,1772,1,22,12,3547,1,29,12,3164,1,24,12,3166,1,25,12,3140,1,23,12,3413,1,26,12,3537,1,27,12,3539,1,28,13,7093,1,35,13,6283,1,30,13,6331,1,31,13,6335,180,0,13,6824,1,32,13,7072,1,33,13,7077,320,0,13,7076,1,34,14,12565,1,36,14,12661,1,37,14,12669,1,38,14,13651,1,39,14,14184,1,40,15,28295,1,46,15,28371,1,47,15,25320,1,42,15,25336,1,43,15,25128,1,41,15,27300,1,44,15,28293,1,45,16,50259,1,48,16,50643,1,49,16,50675,1,50,16,56740,1,53,16,56584,1,51,16,56588,1,52,17,113483,1,61,17,113482,1,60,17,101285,1,55,17,101349,1,56,17,109205,1,57,17,109207,1,58,17,100516,1,54,17,113171,1,59,18,202568,1,62,18,202696,1,63,18,218408,1,64,18,218412,1,65,18,226340,1,66,18,226356,1,67,18,226358,1,68,19,402068,1,69,19,405138,1,70,19,405394,1,71,19,436818,1,72,19,436826,1,73,19,452714,1,75,19,452718,1,76,19,452682,1,74,20,804138,1,77,20,810279,1,78,20,810790,1,79,20,873638,1,80,20,873654,1,81,20,905366,1,82,20,905430,1,83,20,905438,1,84,21,1608278,1,85,21,1620557,1,86,21,1621582,1,87,21,1621583,1,88,21,1747310,1,89,21,1810734,1,90,21,1810735,1,91,21,1810863,1,92,21,1810879,1,93,22,3621725,1,99,22,3621757,1,100,22,3241112,1,94,22,3494556,1,95,22,3494557,1,96,22,3494622,1,97,22,3494623,1,98,23,6482227,1,102,23,6433117,1,101,23,6989117,1,103,23,6989119,1,105,23,6989118,1,104,23,7243449,1,106,23,7243512,1,107,24,0xd54a79,1,111,24,0xc5d265,1,109,24,0xc452b8,1,108,24,0xdd0d71,1,113,24,0xd54a78,1,110,24,0xdd0d70,1,112,24,0xdd0df2,1,114,24,0xdd0df3,1,115,25,0x188a5f6,1,225,25,0x188a5f5,1,189,25,0x188a5f4,1,188,25,0x188a5f3,1,203,25,0x188a5f2,1,202,25,0x188a5f1,1,197,25,0x188a5f0,1,207,25,0x188a5ef,1,169,25,0x188a5ee,1,223,25,0x188a5ed,1,159,25,0x188a5aa,1,235,25,0x188a5e3,1,152,25,0x188a5df,1,192,25,0x188a589,1,179,25,0x188a5dd,1,201,25,0x188a578,1,172,25,0x188a5e0,1,149,25,0x188a588,1,178,25,0x188a5d6,1,120,25,0x188a5db,1,219,25,0x188a5e1,1,150,25,0x188a587,1,127,25,0x188a59a,1,211,25,0x188a5c4,1,125,25,0x188a5ec,1,158,25,0x188a586,1,247,25,0x188a573,1,238,25,0x188a59c,1,163,25,0x188a5c8,1,228,25,0x188a5fb,1,183,25,0x188a5a1,1,217,25,0x188a5eb,1,168,25,0x188a5a8,1,122,25,0x188a584,1,128,25,0x188a5d2,1,249,25,0x188a599,1,187,25,0x188a598,1,186,25,0x188a583,1,136,25,0x18ba4c9,1,181,25,0x188a5d0,1,255,25,0x188a594,1,230,25,0x188a582,1,135,25,0x188a5cb,1,233,25,0x188a5d8,1,222,25,0x188a5e7,1,145,25,0x188a581,1,134,25,0x188a5ea,1,167,25,0x188a5a9,1,248,25,0x188a5a6,1,209,25,0x188a580,1,243,25,0x188a5a0,1,216,25,0x188a59d,1,164,25,0x188a5c3,1,140,25,0x188a57f,1,157,25,0x188a5c0,1,239,25,0x188a5de,1,191,25,0x188a5d4,1,251,25,0x188a57e,1,156,25,0x188a5c2,1,139,25,0x188a592,1,242,25,0x188a5cd,1,133,25,0x188a57d,1,162,25,0x188a5a3,1,213,25,0x188a5e8,1,165,25,0x188a5a2,1,212,25,0x188a57c,1,227,25,0x188a58e,1,198,25,0x188a5b3,1,236,25,0x188a5b2,1,234,25,0x188a5b1,1,117,25,0x188a5b0,1,215,25,0x188a5af,1,124,25,0x188a5ae,1,123,25,0x188a5ad,1,254,25,0x188a5ac,1,253,25,0x188a5ab,1,148,25,0x188a5da,1,218,25,0x188a5e4,1,146,25,0x188a5e5,1,147,25,0x188a5d9,1,224,25,0x188a5b5,1,143,25,0x188a5bc,1,184,25,0x188a5bd,1,185,25,0x188a5e9,1,166,25,0x188a5cc,1,132,25,0x188a585,1,129,25,0x188a5d3,1,250,25,0x188a5e2,1,151,25,0x188a595,1,119,25,0x188a596,1,193,25,0x188a5b8,1,176,25,0x188a590,1,245,25,0x188a5c9,1,229,25,0x188a5a4,1,206,25,0x188a5e6,1,144,25,0x188a5a5,1,208,25,0x188a5ce,1,137,25,0x188a5bf,1,241,25,0x188a572,1,237,25,0x188a59b,1,190,25,0x188a5be,1,240,25,0x188a5c7,1,131,25,0x188a5ca,1,232,25,0x188a5d5,1,252,25,0x188a57b,1,171,25,0x188a58d,1,205,25,0x188a58c,1,204,25,0x188a58b,1,118,25,0x188a58a,1,214,25,0x18ba4c8,1,180,25,0x188a5c5,1,126,25,0x188a5fa,1,182,25,0x188a5bb,1,175,25,0x188a5c1,1,141,25,0x188a5cf,1,138,25,0x188a5b9,1,177,25,0x188a5b6,1,153,25,0x188a597,1,194,25,0x188a5fe,1,160,25,0x188a5d7,1,121,25,0x188a5ba,1,174,25,0x188a591,1,246,25,0x188a5c6,1,130,25,0x188a5dc,1,200,25,0x188a57a,1,170,25,0x188a59f,1,221,25,0x188a5f9,1,196,25,0x188a5b4,1,142,25,0x188a5a7,1,210,25,0x188a58f,1,199,25,0x188a5fd,1,155,25,0x188a5b7,1,154,25,0x188a593,1,244,25,0x188a59e,1,220,25,0x188a5f8,1,195,25,0x188a5ff,1,161,25,0x188a5fc,1,231,25,0x188a579,1,173,25,0x188a5f7,1,226,26,0x3114ba2,1,116,26,0x3114ba3,0,1],n=[3,3,3,3,2,2,2,1,1,1];function i(r){var e=r[1],a=r[0][e>>>3]>>>7-(7&e)&1;return r[1]++,a}function f(r,e){for(var a=0;a<e;a++)(1&r)==1&&r++,r>>>=1;return r}function o(r,e,a,t,n,i){e[a]=(11*r[n]-4*r[n+i]+r[n+i+i]+4>>3)+r[t]>>1,e[a+i]=(5*r[n]+4*r[n+i]-r[n+i+i]+4>>3)-r[t]>>1}function v(r,e,a,t,n,i){var f=r[n-i]-r[n+i],o=r[n],v=r[t];e[a]=(f+4>>3)+o+v>>1,e[a+i]=(-f+4>>3)+o-v>>1}function s(r,e,a,t,n,i){e[a]=(5*r[n]+4*r[n-i]-r[n-i-i]+4>>3)+r[t]>>1,e[a+i]=(11*r[n]-4*r[n-i]+r[n-i-i]+4>>3)-r[t]>>1}function u(r){return r=a[r=r<0?0:r>4095?4095:r]>>>2}return function(l,c,d,h,w,g){h=new Uint16Array(h.buffer);var x,b,_,p,m,A,U,I,y,M,D=Date.now(),k=E._binBE,B=c+d;c+=4;for(var F=1==g[0];c<B;){var P=k.readShort(l,c),C=k.readUshort(l,c+2);if(c+=4,12==P)x=C;else if(20==P)b=C;else if(21==P)_=C;else if(48==P)p=C;else if(53==P)m=C;else if(35==P);else if(62==P)A=C;else if(101==P);else if(109==P)U=C;else if(84==P);else if(106==P);else if(107==P);else if(108==P);else if(102==P);else if(104==P)I=C;else if(105==P);else{var L=P<0?-P:P,S=65280&L,G=0;if(24576&L&&(G=8192&L?(65535&C)+((255&L)<<16):65535&C),(24576&L)==24576){if(null==y){y=[];for(var N=0;N<4;N++)y[N]=new Int16Array((b>>>1)*(_>>>1));M=new Int16Array((b>>>1)*(_>>>1)),e=new Int16Array(1024);for(var N=0;N<1024;N++){var O=N-512,J=Math.abs(O),x=Math.floor(768*J*J*J/0xfd02ff)+J;e[N]=Math.sign(O)*x}a=new Uint16Array(4096);for(var N=0;N<4096;N++){var W=65535*(Math.pow(113,N/4095)-1)/112;a[N]=Math.min(W,65535)}}var j=y[A],T=f(b,1+n[p]),R=f(_,1+n[p]);if(0==p)for(var q=0;q<R;q++)for(var Z=0;Z<T;Z++){var H=c+(q*T+Z)*2;j[q*(b>>>1)+Z]=l[H]<<8|l[H+1]}else{for(var Q=[l,8*c],z=[],X=0,V=T*R,Y=[0,0],$=0,C=0;X<V;)for(!function(e,a){if(null==r){r={};for(var n=0;n<t.length;n+=4)r[t[n+1]]=t.slice(n,n+4)}for(var f=i(e),o=r[f];null==o;)o=r[f=f<<1|i(e)];var v=o[3];0!=v&&(v=0==i(e)?v:-v),a[0]=o[2],a[1]=v}(Q,Y),$=Y[0],C=Y[1];$>0;)z[X++]=C,$--;for(var K=(p-1)%3,rr=1!=K?T:0,re=0!=K?R:0,q=0;q<R;q++)for(var ra=(q+re)*(b>>>1)+rr,rt=q*T,Z=0;Z<T;Z++)j[ra+Z]=e[z[rt+Z]+512]*m;if(2==K){for(var I=b>>>1,rn=2*T,ri=2*R,q=0;q<R;q++)for(var Z=0;Z<rn;Z++){var N=2*q*I+Z,rf=q*I+Z,ro=R*I+rf;0==q?o(j,M,N,ro,rf,I):q==R-1?s(j,M,N,ro,rf,I):v(j,M,N,ro,rf,I)}var rv=j;j=M,M=rv;for(var q=0;q<ri;q++)for(var Z=0;Z<T;Z++){var N=q*I+2*Z,rf=q*I+Z,ro=T+rf;0==Z?o(j,M,N,ro,rf,1):Z==T-1?s(j,M,N,ro,rf,1):v(j,M,N,ro,rf,1)}var rv=j;j=M,M=rv;for(var rs=[],ru=2-~~((p-1)/3),rl=0;rl<3;rl++)rs[rl]=U>>14-2*rl&3;var rc=rs[ru];if(0!=rc)for(var q=0;q<ri;q++)for(var Z=0;Z<rn;Z++){var N=q*I+Z;j[N]=j[N]<<rc}}}if(9==p&&3==A)for(var rd=y[0],rh=y[1],rw=y[2],rg=y[3],q=0;q<_;q+=2)for(var Z=0;Z<b;Z+=2){var rx=q*b+Z,H=(q>>>1)*(b>>>1)+(Z>>>1),rb=rd[H],r_=rh[H]-2048,rp=rw[H]-2048,rm=rg[H]-2048,rA=(r_<<1)+rb,rU=(rp<<1)+rb,rI=rb+rm,ry=rb-rm;F?(h[rx]=u(rI),h[rx+1]=u(rU),h[rx+b]=u(rA),h[rx+b+1]=u(ry)):(h[rx]=u(rA),h[rx+1]=u(rI),h[rx+b]=u(ry),h[rx+b+1]=u(rU))}c+=4*G}else if(16388==L)c+=4*G;else if(8192==S||8448==S||9216==S);else throw L.toString(16)}}console.log(Date.now()-D)}}(),E.decode._decodeLogLuv32=function(r,e,a,t,n,i){for(var f=r.width,o=4*f,v=0,s=new Uint8Array(o);v<t;){for(var u=0;u<o;){var l=e[a+v];if(v++,l<128){for(var c=0;c<l;c++)s[u+c]=e[a+v+c];u+=l,v+=l}else{l-=126;for(var c=0;c<l;c++)s[u+c]=e[a+v];u+=l,v++}}for(var d=0;d<f;d++)n[i+0]=s[d],n[i+1]=s[d+f],n[i+2]=s[d+2*f],n[i+4]=s[d+3*f],i+=6}},E.decode._ljpeg_diff=function(r,e,a){var t,n,i=E.decode._getbithuff;return t=i(r,e,a[0],a),((n=i(r,e,t,0))&1<<t-1)==0&&(n-=(1<<t)-1),n},E.decode._decodeARW=function(r,e,a,t,n,i){var f,o,v,s,u,l,c,d,h,w,g,x=r.t256[0],b=r.t257[0],_=r.t258[0],p=r.isLE?E._binLE:E._binBE;if(x*b!=t&&x*b*1.5!=t){b+=8;var w,m,A,o,f,U=[a,0,0,0],I=new Uint16Array(32770),y=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],M=0,D=E.decode._ljpeg_diff;for(I[0]=15,A=w=0;w<18;w++)for(var k=32768>>>(y[w]>>>8),m=0;m<k;m++)I[++A]=y[w];for(o=x;o--;)for(f=0;f<b+1;f+=2)if(f==b&&(f=1),M+=D(e,U,I),f<b){var B=4095&M;E.decode._putsF(n,(f*x+o)*_,B<<16-_)}return}if(x*b*1.5==t){for(var w=0;w<t;w+=3){var F=e[a+w+0],P=e[a+w+1],C=e[a+w+2];n[i+w]=P<<4|F>>>4,n[i+w+1]=F<<4|C>>>4,n[i+w+2]=C<<4|P>>>4}return}var L=new Uint16Array(16),S=new Uint8Array(x+1);for(f=0;f<b;f++){for(var G=0;G<x;G++)S[G]=e[a++];for(g=0,o=0;o<x-30;g+=16){for(d=0,s=2047&(v=p.readUint(S,g)),u=2047&v>>>11,l=15&v>>>22,c=15&v>>>26;d<4&&128<<d<=s-u;d++);for(h=30,w=0;w<16;w++)w==l?L[w]=s:w==c?L[w]=u:(L[w]=((p.readUshort(S,g+(h>>3))>>>(7&h)&127)<<d)+u,L[w]>2047&&(L[w]=2047),h+=7);for(w=0;w<16;w++,o+=2){var B=L[w]<<1;E.decode._putsF(n,(f*x+o)*_,B<<16-_)}o-=1&o?1:31}}},E.decode._decodeNikon=function(r,e,a,t,n,i,f){var o,v,s,u,l,c,d=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],h=r.t256[0],w=r.t257[0],g=r.t258[0],x=0,b=0,_=E.decode._make_decoder,p=E.decode._getbithuff,m=e[0].exifIFD.makerNote,A=m.t150?m.t150:m.t140,U=0;if(m.t147&&2==m.t147[0]){for(var I=Math.ceil(h/10),y=16*I,M=3*h>>>1,D=0;D<w;D++)for(var k=0;k<I;k++)for(var o=0;o<15;o++)i[D*M+15*k+o]=a[t+D*y+16*k+o];return}var B=A[U++],F=A[U++];(73==B||88==F)&&(U+=2110),70==B&&(x=2),14==g&&(x+=3);for(var P=[[0,0],[0,0]],C=r.isLE?E._binLE:E._binBE,o=0;o<2;o++)for(var L=0;L<2;L++)P[o][L]=C.readShort(A,U),U+=2;var S=0,G=C.readShort(A,U);U+=2,G>1&&(S=Math.floor((1<<g&32767)/(G-1))),68==B&&32==F&&S>0&&(b=C.readShort(A,562));var N=[0,0],O=_(d[x]),J=[t,0,0,0];for(v=0;v<w;v++)for(b&&v==b&&(O=_(d[x+1])),s=0;s<h;s++){u=15&(o=p(a,J,O[0],O)),((c=(p(a,J,u-(l=o>>>4),0)<<1)+1<<l>>>1)&1<<u-1)==0&&(c-=(1<<u)-(0==l)),s<2?N[s]=P[1&v][s]+=c:N[1&s]+=c;var W=Math.min(Math.max(N[1&s],0),(1<<g)-1),j=(v*h+s)*g;E.decode._putsF(i,j,W<<16-g)}},E.decode._putsF=function(r,e,a){a<<=8-(7&e);var t=e>>>3;r[t]|=a>>>16,r[t+1]|=a>>>8,r[t+2]|=a},E.decode._getbithuff=function(r,e,a,t){E.decode._get_byte;var n,i=e[0],f=e[1],o=e[2],v=e[3];if(0==a||o<0)return 0;for(;!v&&o<a&&-1!=(n=r[i++])&&(v=0,1);)f=(f<<8)+n,o+=8;if(n=f<<32-o>>>32-a,t?(o-=t[n+1]>>>8,n=255&t[n+1]):o-=a,o<0)throw"e";return e[0]=i,e[1]=f,e[2]=o,e[3]=v,n},E.decode._make_decoder=function(r){var e,a,t,n,i,f=[];for(e=16;0!=e&&!r[e];e--);var o=17;for(f[0]=e,t=a=1;a<=e;a++)for(n=0;n<r[a];n++,++o)for(i=0;i<1<<e-a;i++)t<=1<<e&&(f[t++]=a<<8|r[o]);return f},E.decode._decodeNewJPEG=function(r,e,a,t,n,i){t=Math.min(t,e.length-a);var f=r.t347,o=f?f.length:0,v=new Uint8Array(o+t);if(f){for(var s=0,u=0;u<o-1&&(255!=f[u]||217!=f[u+1]);u++)v[s++]=f[u];var l=e[a],c=e[a+1];(255!=l||216!=c)&&(v[s++]=l,v[s++]=c);for(var u=2;u<t;u++)v[s++]=e[a+u]}else for(var u=0;u<t;u++)v[u]=e[a+u];if(32803==r.t262[0]||7==r.t259[0]&&34892==r.t262[0]){var d=r.t258[0],h=E.LosslessJpegDecode(v),w=h[0],g=w.length;if(4==h[3]&&r.t29456){var x=w.slice(0);x.fill(0);for(var b=h[1],_=h[2],p=2*b,m=0;m<_;m++)for(var A=0;A<b;A++){var U=m*b*4+2*A,I=U+2*A;x[U]=w[I],x[U+1]=w[I+1],x[U+p]=w[I+2],x[U+p+1]=w[I+3]}w=x}if(16==d)if(r.isLE)for(var u=0;u<g;u++)n[i+(u<<1)]=255&w[u],n[i+(u<<1)+1]=w[u]>>>8;else for(var u=0;u<g;u++)n[i+(u<<1)]=w[u]>>>8,n[i+(u<<1)+1]=255&w[u];else if(14==d||12==d||10==d)for(var y=16-d,u=0;u<g;u++)E.decode._putsF(n,u*d,w[u]<<y);else if(8==d)for(var u=0;u<g;u++)n[i+u]=w[u];else throw Error("unsupported bit depth "+d)}else{var M=new E.JpegDecoder;M.parse(v);for(var D=M.getData({width:M.width,height:M.height,forceRGB:!0,isSourcePDF:!1}),u=0;u<D.length;u++)n[i+u]=D[u]}6==r.t262[0]&&(r.t262[0]=2)},E.decode._decodeOldJPEGInit=function(r,e,a,t){var n,i,f,o,v,s=0,u=0,l=!1,c=r.t513,d=c?c[0]:0,h=r.t514,w=h?h[0]:0,g=r.t324||r.t273||c,x=r.t530,b=0,_=0,p=r.t277?r.t277[0]:1,m=r.t515;if(g&&(u=g[0],l=g.length>1),!l){if(255==e[a]&&216==e[a+1])return{jpegOffset:a};if(null!=c&&(255==e[a+d]&&216==e[a+d+1]?s=a+d:M("JPEGInterchangeFormat does not point to SOI"),null==h?M("JPEGInterchangeFormatLength field is missing"):(d>=u||d+w<=u)&&M("JPEGInterchangeFormatLength field value is invalid"),null!=s))return{jpegOffset:s}}if(null!=x&&(b=x[0],_=x[1]),null!=c&&null!=h)if(w>=2&&d+w<=u){for(f=0,n=new Uint8Array(255==e[a+d+w-2]&&216==e[a+d+w-1]?w-2:w);f<n.length;f++)n[f]=e[a+d+f];M("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else M("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(null==n){var A=0,U=[];U[A++]=255,U[A++]=216;var I=r.t519;if(null==I)throw Error("JPEGQTables tag is missing");for(f=0;f<I.length;f++)for(o=0,U[A++]=255,U[A++]=219,U[A++]=0,U[A++]=67,U[A++]=f;o<64;o++)U[A++]=e[a+I[f]+o];for(v=0;v<2;v++){var y=r[0==v?"t520":"t521"];if(null==y)throw Error((0==v?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(f=0;f<y.length;f++){U[A++]=255,U[A++]=196;var E=19;for(o=0;o<16;o++)E+=e[a+y[f]+o];for(o=0,U[A++]=E>>>8,U[A++]=255&E,U[A++]=f|v<<4;o<16;o++)U[A++]=e[a+y[f]+o];for(o=0;o<E;o++)U[A++]=e[a+y[f]+16+o]}}if(U[A++]=255,U[A++]=192,U[A++]=0,U[A++]=8+3*p,U[A++]=8,U[A++]=r.height>>>8&255,U[A++]=255&r.height,U[A++]=r.width>>>8&255,U[A++]=255&r.width,U[A++]=p,1==p)U[A++]=1,U[A++]=17,U[A++]=0;else for(f=0;f<3;f++)U[A++]=f+1,U[A++]=0!=f?17:(15&b)<<4|15&_,U[A++]=f;null!=m&&0!=m[0]&&(U[A++]=255,U[A++]=221,U[A++]=0,U[A++]=4,U[A++]=m[0]>>>8&255,U[A++]=255&m[0]),n=new Uint8Array(U)}var D=-1;for(f=0;f<n.length-1;){if(255==n[f]&&192==n[f+1]){D=f;break}f++}if(-1==D){var k=new Uint8Array(n.length+10+3*p);k.set(n);var B=n.length;if(D=n.length,(n=k)[B++]=255,n[B++]=192,n[B++]=0,n[B++]=8+3*p,n[B++]=8,n[B++]=r.height>>>8&255,n[B++]=255&r.height,n[B++]=r.width>>>8&255,n[B++]=255&r.width,n[B++]=p,1==p)n[B++]=1,n[B++]=17,n[B++]=0;else for(f=0;f<3;f++)n[B++]=f+1,n[B++]=0!=f?17:(15&b)<<4|15&_,n[B++]=f}if(255==e[u]&&218==e[u+1]){var F=e[u+2]<<8|e[u+3];for(f=0,(i=new Uint8Array(F+2))[0]=e[u],i[1]=e[u+1],i[2]=e[u+2],i[3]=e[u+3];f<F-2;f++)i[f+4]=e[u+f+4]}else{i=new Uint8Array(8+2*p);var P=0;if(i[P++]=255,i[P++]=218,i[P++]=0,i[P++]=6+2*p,i[P++]=p,1==p)i[P++]=1,i[P++]=0;else for(f=0;f<3;f++)i[P++]=f+1,i[P++]=f<<4|f;i[P++]=0,i[P++]=63,i[P++]=0}return{jpegOffset:a,tables:n,sosMarker:i,sofPosition:D}},E.decode._decodeOldJPEG=function(r,e,a,t,n,i){var f,o,v,s,u,l=E.decode._decodeOldJPEGInit(r,e,a,t);if(null!=l.jpegOffset)for(f=0,s=new Uint8Array(o=a+t-l.jpegOffset);f<o;f++)s[f]=e[l.jpegOffset+f];else{for((s=new Uint8Array((v=l.tables.length)+l.sosMarker.length+t+2)).set(l.tables),u=v,s[l.sofPosition+5]=r.height>>>8&255,s[l.sofPosition+6]=255&r.height,s[l.sofPosition+7]=r.width>>>8&255,s[l.sofPosition+8]=255&r.width,(255!=e[a]||e[a+1]!=SOS)&&(s.set(l.sosMarker,u),u+=sosMarker.length),f=0;f<t;f++)s[u++]=e[a+f];s[u++]=255,s[u++]=EOI}var c=new E.JpegDecoder;c.parse(s);var d=c.getData({width:c.width,height:c.height,forceRGB:!0,isSourcePDF:!1}),h=c.width*c.height;if(r.t262&&1==r.t262[0])for(var f=0;f<h;f++)n[i+f]=d[3*f];else for(var f=0;f<d.length;f++)n[i+f]=d[f];r.t262&&6==r.t262[0]&&(r.t262[0]=2)},E.decode._decodePackBits=function(r,e,a,t,n){for(var i=new Int8Array(r.buffer),f=new Int8Array(t.buffer),o=e+a;e<o;){var v=i[e];if(e++,v>=0&&v<128)for(var s=0;s<v+1;s++)f[n]=i[e],n++,e++;if(v>=-127&&v<0){for(var s=0;s<-v+1;s++)f[n]=i[e],n++;e++}}return n},E.decode._decodeThunder=function(r,e,a,t,n){for(var i=[0,1,0,-1],f=[0,1,2,3,0,-3,-2,-1],o=e+a,v=2*n,s=0;e<o;){var u=r[e],l=u>>>6,c=63&u;if(e++,3==l&&(s=15&c,t[v>>>1]|=s<<4*(1-v&1),v++),0==l)for(var d=0;d<c;d++)t[v>>>1]|=s<<4*(1-v&1),v++;if(2==l)for(var d=0;d<2;d++){var h=c>>>3*(1-d)&7;4!=h&&(s+=f[h],t[v>>>1]|=s<<4*(1-v&1),v++)}if(1==l)for(var d=0;d<3;d++){var h=c>>>2*(2-d)&3;2!=h&&(s+=i[h],t[v>>>1]|=s<<4*(1-v&1),v++)}}},E.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},E.decode._lens=(e=function(r,e,a,t){for(var n=0;n<e.length;n++)r[e[n]]=a+n*t},n="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",i="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",f="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",o="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111",a=(a="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100").split(","),n=n.split(","),i=i.split(","),f=f.split(","),o=o.split(","),s={},e(v={},a,0,1),e(v,i,64,64),e(v,o,1792,64),e(s,n,0,1),e(s,f,64,64),e(s,o,1792,64),[v,s]),E.decode._decodeG4=function(r,e,a,t,n,i,f){for(var o=E.decode,v=e<<3,s=0,u="",l=[],c=[],d=0;d<i;d++)c.push(0);c=o._makeDiff(c);for(var h=0,w=0,g=0,x=0,b=0,_=0,p="",m=0,A=8*Math.ceil(i/8);v>>>3<e+a;){g=o._findDiff(c,h+ +(0!=h),1-b),x=o._findDiff(c,g,b);var U=0;if(1==f&&(U=r[v>>>3]>>>7-(7&v)&1),2==f&&(U=r[v>>>3]>>>(7&v)&1),v++,u+=U,"H"==p){if(null!=o._lens[b][u]){var I=o._lens[b][u];u="",s+=I,I<64&&(o._addNtimes(l,s,b),h+=s,b=1-b,s=0,0==--m&&(p=""))}}else"0001"==u&&(u="",o._addNtimes(l,x-h,b),h=x),"001"==u&&(u="",p="H",m=2),null!=o._dmap[u]&&(w=g+o._dmap[u],o._addNtimes(l,w-h,b),h=w,u="",b=1-b);l.length==i&&""==p&&(o._writeBits(l,t,8*n+_*A),b=0,_++,h=0,c=o._makeDiff(l),l=[])}},E.decode._findDiff=function(r,e,a){for(var t=0;t<r.length;t+=2)if(r[t]>=e&&r[t+1]==a)return r[t]},E.decode._makeDiff=function(r){var e=[];1==r[0]&&e.push(0,1);for(var a=1;a<r.length;a++)r[a-1]!=r[a]&&e.push(a,r[a]);return e.push(r.length,0,r.length,1),e},E.decode._decodeG2=function(r,e,a,t,n,i,f){for(var o=E.decode,v=e<<3,s=0,u="",l=[],c=0,d=0,h=8*Math.ceil(i/8);v>>>3<e+a;){var w=0;1==f&&(w=r[v>>>3]>>>7-(7&v)&1),2==f&&(w=r[v>>>3]>>>(7&v)&1),v++,u+=w,null!=(s=o._lens[c][u])&&(o._addNtimes(l,s,c),u="",s<64&&(c=1-c),l.length==i&&(o._writeBits(l,t,8*n+d*h),l=[],d++,c=0,(7&v)!=0&&(v+=8-(7&v)),s>=64&&(v+=8)))}},E.decode._decodeG3=function(r,e,a,t,n,i,f,o){for(var v=E.decode,s=e<<3,u=0,l="",c=[],d=[],h=0;h<i;h++)c.push(0);for(var w=0,g=0,x=0,b=0,_=0,p=-1,m="",A=0,U=!0,I=8*Math.ceil(i/8);s>>>3<e+a;){x=v._findDiff(d,w+ +(0!=w),1-_),b=v._findDiff(d,x,_);var y=0;if(1==f&&(y=r[s>>>3]>>>7-(7&s)&1),2==f&&(y=r[s>>>3]>>>(7&s)&1),s++,l+=y,U){if(null!=v._lens[_][l]){var M=v._lens[_][l];l="",u+=M,M<64&&(v._addNtimes(c,u,_),_=1-_,u=0)}}else if("H"==m){if(null!=v._lens[_][l]){var M=v._lens[_][l];l="",u+=M,M<64&&(v._addNtimes(c,u,_),w+=u,_=1-_,u=0,0==--A&&(m=""))}}else"0001"==l&&(l="",v._addNtimes(c,b-w,_),w=b),"001"==l&&(l="",m="H",A=2),null!=v._dmap[l]&&(g=x+v._dmap[l],v._addNtimes(c,g-w,_),w=g,l="",_=1-_);l.endsWith("000000000001")&&(p>=0&&v._writeBits(c,t,8*n+p*I),o&&(1==f&&(U=(r[s>>>3]>>>7-(7&s)&1)==1),2==f&&(U=(r[s>>>3]>>>(7&s)&1)==1),s++),l="",_=0,p++,w=0,d=v._makeDiff(c),c=[])}c.length==i&&v._writeBits(c,t,8*n+p*I)},E.decode._addNtimes=function(r,e,a){for(var t=0;t<e;t++)r.push(a)},E.decode._writeBits=function(r,e,a){for(var t=0;t<r.length;t++)e[a+t>>>3]|=r[t]<<7-(a+t&7)},E.decode._decodeLZW=E.decode._decodeLZW=(h=0,w=0,g=0,x=0,b=function(){var r=u>>>3,e=(l[r]<<16|l[r+1]<<8|l[r+2])>>>24-(7&u)-w&(1<<w)-1;return u+=w,e},_=new Uint32Array(16384),p=0,m=function(r){if(r!=p){p=r,x=(g=1<<r)+1;for(var e=0;e<x+1;e++)_[4*e]=_[4*e+3]=e,_[4*e+1]=65535,_[4*e+2]=1}},A=function(r){w=r+1,h=x+1},U=function(r){for(var e=r<<2,a=_[e+2],t=d+a-1;65535!=e;)c[t--]=_[e],e=_[e+1];d+=a},I=function(r,e){var a=h<<2,t=r<<2;_[a]=_[(e<<2)+3],_[a+1]=t,_[a+2]=_[t+2]+1,_[a+3]=_[t+3],++h+1==1<<w&&12!=w&&w++},function(r,e,a,t,n,i){u=e<<3,l=r,c=t,d=n;var f=e+a<<3,o=0,v=0;for(m(i),A(i);u<f&&(o=b())!=x;){if(o==g){if(A(i),(o=b())==x)break;U(o)}else o<h?(U(o),I(v,o)):(I(v,v),U(h-1));v=o}return d}),E.tags={},(y=Array(250)).fill(0),E._types={basic:{main:y=y.concat([0,0,0,0,4,3,3,3,3,3,0,0,3,0,0,0,3,0,0,2,2,2,2,4,3,0,0,3,4,4,3,3,5,5,3,2,5,5,0,0,0,0,4,4,0,0,3,3,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,3,5,5,3,0,3,3,4,4,4,3,4,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rest:{33432:2,33434:5,33437:5,34665:4,34850:3,34853:4,34855:3,34864:3,34866:4,36864:7,36867:2,36868:2,37121:7,37377:10,37378:5,37380:10,37381:5,37383:3,37384:3,37385:3,37386:5,37510:7,37520:2,37521:2,37522:2,40960:7,40961:3,40962:4,40963:4,40965:4,41486:5,41487:5,41488:3,41985:3,41986:3,41987:3,41988:5,41989:3,41990:3,41993:3,41994:3,41995:7,41996:3,42032:2,42033:2,42034:5,42036:2,42037:2,59932:7}},gps:{main:[1,2,5,2,5,1,5,5,0,9],rest:{18:2,29:2}}},E._readIFD=function(r,e,a,t,n,i){var f=r.readUshort(e,a);a+=2;var o={};i.debug&&M("   ".repeat(n),t.length-1,">>>----------------");for(var v=0;v<f;v++){var s=r.readUshort(e,a);a+=2;var u=r.readUshort(e,a);a+=2;var l=r.readUint(e,a);a+=4;var c=r.readUint(e,a);a+=4;var d=[];if(1==u||7==u){var h=l<5?a-4:c;h+l>e.buffer.byteLength&&(l=e.buffer.byteLength-h),d=new Uint8Array(e.buffer,h,l)}if(2==u){var w=l<5?a-4:c,g=e[w],x=Math.max(0,Math.min(l-1,e.length-w));g<128||0==x?(d.push(r.readASCII(e,w,x)),d[0].endsWith("\0")&&(d[0]=d[0].slice(0,-1))):d=new Uint8Array(e.buffer,w,x)}if(3==u)for(var b=0;b<l;b++)d.push(r.readUshort(e,(l<3?a-4:c)+2*b));if(4==u||13==u)for(var b=0;b<l;b++)d.push(r.readUint(e,(l<2?a-4:c)+4*b));if(5==u||10==u)for(var _=5==u?r.readUint:r.readInt,b=0;b<l;b++)d.push([_(e,c+8*b),_(e,c+8*b+4)]);if(8==u)for(var b=0;b<l;b++)d.push(r.readShort(e,(l<3?a-4:c)+2*b));if(9==u)for(var b=0;b<l;b++)d.push(r.readInt(e,(l<2?a-4:c)+4*b));if(11==u)for(var b=0;b<l;b++)d.push(r.readFloat(e,c+4*b));if(12==u)for(var b=0;b<l;b++)d.push(r.readDouble(e,c+8*b));if(0!=l&&0==d.length){if(M(s,"unknown TIFF tag type: ",u,"num:",l),0==v)return;continue}if(i.debug&&M("   ".repeat(n),s,u,E.tags[s],d),o["t"+s]=d,330==s&&o.t272&&"DSLR-A100"==o.t272[0]);else if(330==s||34665==s||34853==s||50740==s&&300>r.readUshort(e,r.readUint(d,0))||61440==s){for(var p=50740==s?[r.readUint(d,0)]:d,m=[],b=0;b<p.length;b++)E._readIFD(r,e,p[b],m,n+1,i);330==s&&(o.subIFD=m),34665==s&&(o.exifIFD=m[0]),34853==s&&(o.gpsiIFD=m[0]),50740==s&&(o.dngPrvt=m[0]),61440==s&&(o.fujiIFD=m[0])}if(37500==s&&i.parseMN){var A=d;if("Nikon"==r.readASCII(A,0,5))o.makerNote=E.decode(A.slice(10).buffer)[0];else if("OLYMP"==r.readASCII(A,0,5)||"OM SYSTEM"==r.readASCII(A,0,9)){var U=[8208,8224,8240,8256,8272],I=[];E._readIFD(r,A,77==A[1]?16:85==A[5]?12:8,I,n+1,i);for(var y=o.makerNote=I.pop(),b=0;b<U.length;b++){var D="t"+U[b];null!=y[D]&&(1==y[D].length?E._readIFD(r,A,y[D][0],I,n+1,i):E._readIFD(r,y[D],0,I,n+1,i),y[D]=I.pop())}y.t12288&&(E._readIFD(r,y.t12288,0,I,n+1,i),y.t12288=I.pop())}else if(300>r.readUshort(e,c)&&12>=r.readUshort(e,c+4)){var I=[];E._readIFD(r,e,c,I,n+1,i),o.makerNote=I[0]}}}return t.push(o),i.debug&&M("   ".repeat(n),"<<<---------------"),a},E._writeIFD=function(r,e,a,t,n){var i=Object.keys(n),f=i.length;n.exifIFD&&f--,n.gpsiIFD&&f--,r.writeUshort(a,t,f);var o=(t+=2)+12*f+4;i.sort(function(r,e){return parseInt(r.slice(1))-parseInt(e.slice(1))});for(var v=0;v<i.length;v++){var s=i[v];if("t34665"!=s&&"t34853"!=s){"exifIFD"==s&&(s="t34665"),"gpsiIFD"==s&&(s="t34853");var u=parseInt(s.slice(1)),l=e.main[u];if(null==l&&(l=e.rest[u]),null==l||0==l)throw Error("unknown type of tag: "+u);var c=n[s];if(34665==u){var d=E._writeIFD(r,e,a,o,n.exifIFD);c=[o],o=d[1]}if(34853==u){var d=E._writeIFD(r,E._types.gps,a,o,n.gpsiIFD);c=[o],o=d[1]}2==l&&(c=c[0]+"\0");var h=c.length;r.writeUshort(a,t,u),t+=2,r.writeUshort(a,t,l),t+=2,r.writeUint(a,t,h);var w=[-1,1,1,2,4,8,0,1,0,4,8,0,8][l]*h,g=t+=4;if(w>4&&(r.writeUint(a,t,o),g=o),1==l||7==l)for(var x=0;x<h;x++)a[g+x]=c[x];else if(2==l)r.writeASCII(a,g,c);else if(3==l)for(var x=0;x<h;x++)r.writeUshort(a,g+2*x,c[x]);else if(4==l)for(var x=0;x<h;x++)r.writeUint(a,g+4*x,c[x]);else if(5==l||10==l)for(var b=5==l?r.writeUint:r.writeInt,x=0;x<h;x++){var _=c[x],p=_[0],m=_[1];if(null==p)throw"e";b(a,g+8*x,p),b(a,g+8*x+4,m)}else if(9==l)for(var x=0;x<h;x++)r.writeInt(a,g+4*x,c[x]);else if(12==l)for(var x=0;x<h;x++)r.writeDouble(a,g+8*x,c[x]);else throw l;w>4&&(w+=1&w,o+=w),t+=4}}return[t,o]},E.toRGBA8=function(r,e){function a(r){return r<.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055}var t=r.width,n=r.height,i=t*n,f=r.data,o=new Uint8Array(4*i),v=r.t262?r.t262[0]:2,s=r.t258?Math.min(32,r.t258[0]):1;null==r.t262&&1==s&&(v=0);var u=r.t277?r.t277[0]:r.t258?r.t258.length:[1,1,3,1,1,4,3][v],l=r.t339?r.t339[0]:null;if(1==v&&32==s&&3!=l)throw"e";var c=Math.ceil(u*s*t/8);if(M("interpretation: ",v,"smpls",u,"bps",s,"sample format",l,r),0==v){e=1/256;for(var d=0;d<n;d++){var h=d*c,w=d*t;if(1==s)for(var g=0;g<t;g++){var x=w+g<<2,b=f[h+(g>>3)]>>7-(7&g)&1;o[x]=o[x+1]=o[x+2]=(1-b)*255,o[x+3]=255}if(4==s)for(var g=0;g<t;g++){var x=w+g<<2,b=f[h+(g>>1)]>>4-4*(1&g)&15;o[x]=o[x+1]=o[x+2]=(15-b)*17,o[x+3]=255}if(8==s)for(var g=0;g<t;g++){var x=w+g<<2,b=f[h+g];o[x]=o[x+1]=o[x+2]=255-b,o[x+3]=255}if(16==s)for(var g=0;g<t;g++){var x=w+g<<2,_=h+2*g,b=f[_+1]<<8|f[_];o[x]=o[x+1]=o[x+2]=Math.min(255,255-~~(b*e)),o[x+3]=255}}}else if(1==v){null==e&&(e=1/256);for(var p=(3&f.length)==0?new Float32Array(f.buffer):null,d=0;d<n;d++){var h=d*c,w=d*t;if(1==s)for(var g=0;g<t;g++){var x=w+g<<2,b=f[h+(g>>3)]>>7-(7&g)&1;o[x]=o[x+1]=o[x+2]=255*b,o[x+3]=255}if(2==s)for(var g=0;g<t;g++){var x=w+g<<2,b=f[h+(g>>2)]>>6-2*(3&g)&3;o[x]=o[x+1]=o[x+2]=85*b,o[x+3]=255}if(8==s)for(var g=0;g<t;g++){var x=w+g<<2,b=f[h+g*u];o[x]=o[x+1]=o[x+2]=b,o[x+3]=255}if(16==s)for(var g=0;g<t;g++){var x=w+g<<2,_=h+2*g,b=f[_+1]<<8|f[_];o[x]=o[x+1]=o[x+2]=Math.min(255,~~(b*e)),o[x+3]=255}if(32==s)for(var g=0;g<t;g++){var x=w+g<<2,_=(h>>>2)+g,b=p[_];o[x]=o[x+1]=o[x+2]=~~(.5+255*b),o[x+3]=255}}}else if(2==v)if(8==s){if(1==u)for(var g=0;g<i;g++)o[4*g]=o[4*g+1]=o[4*g+2]=f[g],o[4*g+3]=255;if(3==u)for(var g=0;g<i;g++){var x=g<<2,m=3*g;o[x]=f[m],o[x+1]=f[m+1],o[x+2]=f[m+2],o[x+3]=255}if(u>=4)for(var g=0;g<i;g++){var x=g<<2,m=g*u;o[x]=f[m],o[x+1]=f[m+1],o[x+2]=f[m+2],o[x+3]=f[m+3]}}else if(16==s){if(4==u)for(var g=0;g<i;g++){var x=g<<2,m=8*g+1;o[x]=f[m],o[x+1]=f[m+2],o[x+2]=f[m+4],o[x+3]=f[m+6]}if(3==u)for(var g=0;g<i;g++){var x=g<<2,m=6*g+1;o[x]=f[m],o[x+1]=f[m+2],o[x+2]=f[m+4],o[x+3]=255}}else if(32==s){for(var A=new Float32Array(f.buffer),U=0,g=0;g<A.length;g++)U=Math.min(U,A[g]);if(U<0)for(var g=0;g<f.length;g+=4){var I=f[g];f[g]=f[g+3],f[g+3]=I,I=f[g+1],f[g+1]=f[g+2],f[g+2]=I}for(var y=[],g=0;g<65536;g++)y.push(a(g/65535));for(var g=0;g<A.length;g++){var E=Math.max(0,Math.min(1,A[g]));A[g]=y[~~(.5+65535*E)]}if(3==u)for(var g=0;g<i;g++){var x=g<<2,m=3*g;o[x]=~~(.5+255*A[m]),o[x+1]=~~(.5+255*A[m+1]),o[x+2]=~~(.5+255*A[m+2]),o[x+3]=255}else if(4==u)for(var g=0;g<i;g++){var x=g<<2,m=4*g;o[x]=~~(.5+255*A[m]),o[x+1]=~~(.5+255*A[m+1]),o[x+2]=~~(.5+255*A[m+2]),o[x+3]=~~(.5+255*A[m+3])}else throw u}else throw s;else if(3==v)for(var D=r.t320,k=1<<s,B=8==s&&u>1&&r.t338&&0!=r.t338[0],d=0;d<n;d++)for(var F=0;F<t;F++){var g=d*t+F,x=g<<2,P=0,C=d*c;if(1==s)P=f[C+(F>>>3)]>>>7-(7&F)&1;else if(2==s)P=f[C+(F>>>2)]>>>6-2*(3&F)&3;else if(4==s)P=f[C+(F>>>1)]>>>4-4*(1&F)&15;else if(8==s)P=f[C+F*u];else throw s;o[x]=D[P]>>8,o[x+1]=D[k+P]>>8,o[x+2]=D[k+k+P]>>8,o[x+3]=B?f[C+F*u+1]:255}else if(5==v)for(var L=+(u>4),g=0;g<i;g++){var x=g<<2,S=g*u;if(window&&window.UDOC){var G=f[S],N=f[S+1],O=f[S+2],J=f[S+3],W=UDOC.C.cmykToRgb([1/255*G,1/255*N,1/255*O,1/255*J]);o[x]=~~(.5+255*W[0]),o[x+1]=~~(.5+255*W[1]),o[x+2]=~~(.5+255*W[2])}else{var G=255-f[S],N=255-f[S+1],O=255-f[S+2],J=(255-f[S+3])*(1/255);o[x]=~~(G*J+.5),o[x+1]=~~(N*J+.5),o[x+2]=~~(O*J+.5)}o[x+3]=255*(1-L)+f[S+4]*L}else if(6==v&&r.t278)for(var j=r.t278[0],d=0;d<n;d+=j)for(var g=d*t,T=j*t,R=0;R<T;R++){var x=4*(g+R),S=3*g+4*(R>>>1),O=f[S+(1&R)],q=f[S+2]-128,Z=f[S+3]-128,H=O+((Z>>2)+(Z>>3)+(Z>>5)),Q=O-((q>>2)+(q>>4)+(q>>5))-((Z>>1)+(Z>>3)+(Z>>4)+(Z>>5)),z=O+(q+(q>>1)+(q>>2)+(q>>6));o[x]=Math.max(0,Math.min(255,H)),o[x+1]=Math.max(0,Math.min(255,Q)),o[x+2]=Math.max(0,Math.min(255,z)),o[x+3]=255}else if(8==v){if(3!=u||16!=s)throw"e";for(var X=new Uint16Array(f.buffer),V=new Int16Array(f.buffer),N=[3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427],d=0;d<n;d++)for(var F=0;F<t;F++){var g=d*t+F,x=4*g,m=3*g,Y=X[m]*(100/65535),$=V[m+1]*(255/65535),z=V[m+2]*(255/65535),K=(Y+16)/116,rr=K*K*K,re=K-z/200,ra=re*re*re,rt=$/500+K,rn=rt*rt*rt,ri=96.42/100*(rn>.008856?rn:(116*rt-16)/903.3),O=+(rr>.008856?rr:(116*K-16)/903.3),rf=.8249*(ra>.008856?ra:(116*re-16)/903.3);o[x]=Math.max(0,Math.min(255,255*a(ri*N[0]+O*N[1]+rf*N[2]))),o[x+1]=Math.max(0,Math.min(255,255*a(ri*N[3]+O*N[4]+rf*N[5]))),o[x+2]=Math.max(0,Math.min(255,255*a(ri*N[6]+O*N[7]+rf*N[8]))),o[x+3]=255}}else if(32845==v)for(var d=0;d<n;d++)for(var F=0;F<t;F++){var S=(d*t+F)*6,x=(d*t+F)*4,Y=f[S+1]<<8|f[S],Y=Math.pow(2,(Y+.5)/256-64),ro=(f[S+3]+.5)/410,rv=(f[S+5]+.5)/410,rs=9*ro/(6*ro-16*rv+12),ru=4*rv/(6*ro-16*rv+12),rl=Y,ri=rs*rl/ru,O=rl,rf=(1-rs-ru)*rl/ru,H=2.69*ri-1.276*O-.414*rf,Q=-1.022*ri+1.978*O+.044*rf,z=.061*ri-.224*O+1.163*rf;o[x]=255*a(Math.min(H,1)),o[x+1]=255*a(Math.min(Q,1)),o[x+2]=255*a(Math.min(z,1)),o[x+3]=255}else M("Unknown Photometric interpretation: "+v);return o},E.replaceIMG=function(r){null==r&&(r=document.getElementsByTagName("img"));for(var e=["tif","tiff","dng","cr2","nef"],a=0;a<r.length;a++){var t=r[a],n=t.getAttribute("src");if(null!=n){var i=n.split(".").pop().toLowerCase();if(-1!=e.indexOf(i)){var f=new XMLHttpRequest;E._xhrs.push(f),E._imgs.push(t),f.open("GET",n),f.responseType="arraybuffer",f.onload=E._imgLoaded,f.send()}}}},E._xhrs=[],E._imgs=[],E._imgLoaded=function(r){var e=E._xhrs.indexOf(r.target),a=E._imgs[e];E._xhrs.splice(e,1),E._imgs.splice(e,1),a.setAttribute("src",E.bufferToURI(r.target.response))},E.bufferToURI=function(r){var e=E.decode(r),a=e,t=0,n=a[0];e[0].subIFD&&(a=a.concat(e[0].subIFD));for(var i=0;i<a.length;i++){var f=a[i];if(null!=f.t258&&!(f.t258.length<3)){var o=f.t256*f.t257;o>t&&(t=o,n=f)}}E.decodeImage(r,n,e);var v=E.toRGBA8(n),s=n.width,u=n.height,l=document.createElement("canvas");l.width=s,l.height=u;var c=l.getContext("2d"),d=new ImageData(new Uint8ClampedArray(v.buffer),s,u);return c.putImageData(d,0,0),l.toDataURL()},E._binBE={nextZero:function(r,e){for(;0!=r[e];)e++;return e},readUshort:function(r,e){return r[e]<<8|r[e+1]},readShort:function(r,e){var a=E._binBE.ui8;return a[0]=r[e+1],a[1]=r[e+0],E._binBE.i16[0]},readInt:function(r,e){var a=E._binBE.ui8;return a[0]=r[e+3],a[1]=r[e+2],a[2]=r[e+1],a[3]=r[e+0],E._binBE.i32[0]},readUint:function(r,e){var a=E._binBE.ui8;return a[0]=r[e+3],a[1]=r[e+2],a[2]=r[e+1],a[3]=r[e+0],E._binBE.ui32[0]},readASCII:function(r,e,a){for(var t="",n=0;n<a;n++)t+=String.fromCharCode(r[e+n]);return t},readFloat:function(r,e){for(var a=E._binBE.ui8,t=0;t<4;t++)a[t]=r[e+3-t];return E._binBE.fl32[0]},readDouble:function(r,e){for(var a=E._binBE.ui8,t=0;t<8;t++)a[t]=r[e+7-t];return E._binBE.fl64[0]},writeUshort:function(r,e,a){r[e]=a>>8&255,r[e+1]=255&a},writeInt:function(r,e,a){var t=E._binBE.ui8;E._binBE.i32[0]=a,r[e+3]=t[0],r[e+2]=t[1],r[e+1]=t[2],r[e+0]=t[3]},writeUint:function(r,e,a){r[e]=a>>24&255,r[e+1]=a>>16&255,r[e+2]=a>>8&255,r[e+3]=(0|a)&255},writeASCII:function(r,e,a){for(var t=0;t<a.length;t++)r[e+t]=a.charCodeAt(t)},writeDouble:function(r,e,a){E._binBE.fl64[0]=a;for(var t=0;t<8;t++)r[e+t]=E._binBE.ui8[7-t]}},E._binBE.ui8=new Uint8Array(8),E._binBE.i16=new Int16Array(E._binBE.ui8.buffer),E._binBE.i32=new Int32Array(E._binBE.ui8.buffer),E._binBE.ui32=new Uint32Array(E._binBE.ui8.buffer),E._binBE.fl32=new Float32Array(E._binBE.ui8.buffer),E._binBE.fl64=new Float64Array(E._binBE.ui8.buffer),E._binLE={nextZero:E._binBE.nextZero,readUshort:function(r,e){return r[e+1]<<8|r[e]},readShort:function(r,e){var a=E._binBE.ui8;return a[0]=r[e+0],a[1]=r[e+1],E._binBE.i16[0]},readInt:function(r,e){var a=E._binBE.ui8;return a[0]=r[e+0],a[1]=r[e+1],a[2]=r[e+2],a[3]=r[e+3],E._binBE.i32[0]},readUint:function(r,e){var a=E._binBE.ui8;return a[0]=r[e+0],a[1]=r[e+1],a[2]=r[e+2],a[3]=r[e+3],E._binBE.ui32[0]},readASCII:E._binBE.readASCII,readFloat:function(r,e){for(var a=E._binBE.ui8,t=0;t<4;t++)a[t]=r[e+t];return E._binBE.fl32[0]},readDouble:function(r,e){for(var a=E._binBE.ui8,t=0;t<8;t++)a[t]=r[e+t];return E._binBE.fl64[0]},writeUshort:function(r,e,a){r[e]=255&a,r[e+1]=a>>8&255},writeInt:function(r,e,a){var t=E._binBE.ui8;E._binBE.i32[0]=a,r[e+0]=t[0],r[e+1]=t[1],r[e+2]=t[2],r[e+3]=t[3]},writeUint:function(r,e,a){r[e]=a>>>0&255,r[e+1]=a>>>8&255,r[e+2]=a>>>16&255,r[e+3]=a>>>24&255},writeASCII:E._binBE.writeASCII},E._copyTile=function(r,e,a,t,n,i,f,o){for(var v=Math.min(e,n-f),s=Math.min(a,i-o),u=0;u<s;u++)for(var l=(o+u)*n+f,c=u*e,d=0;d<v;d++)t[l+d]=r[c+d]},E._inflateRaw=function(){var r,e,a=(r=Uint16Array,e=Uint32Array,{m:new r(16),v:new r(16),d:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],o:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],z:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],B:new r(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],w:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],h:new e(32),g:new r(512),s:[],A:new r(32),t:[],k:new r(32768),c:[],a:[],n:new r(32768),e:[],C:new r(512),b:[],i:new r(32768),r:new e(286),f:new e(30),l:new e(19),u:new e(15e3),q:new r(65536),j:new r(32768)});function t(r,e){for(var t,n,i,f,o,v=r.length,s=a.v,f=0;f<=e;f++)s[f]=0;for(f=1;f<v;f+=2)s[r[f]]++;var u=a.m;for(n=1,t=0,s[0]=0;n<=e;n++)t=t+s[n-1]<<1,u[n]=t;for(i=0;i<v;i+=2)0!=(o=r[i+1])&&(r[i]=u[o],u[o]++)}function n(r,e,t){for(var n=r.length,i=a.i,f=0;f<n;f+=2)if(0!=r[f+1])for(var o=f>>1,v=r[f+1],s=o<<4|v,u=e-v,l=r[f]<<u,c=l+(1<<u);l!=c;)t[i[l]>>>15-e]=s,l++}function i(r,e){for(var t=a.i,n=15-e,i=0;i<r.length;i+=2){var f=r[i]<<e-r[i+1];r[i]=t[f]>>>n}}for(var f=0;f<32768;f++){var o=f;o=(0xff00ff00&(o=(0xf0f0f0f0&(o=(0xcccccccc&(o=(0xaaaaaaaa&o)>>>1|(0x55555555&o)<<1))>>>2|(0x33333333&o)<<2))>>>4|(0xf0f0f0f&o)<<4))>>>8|(0xff00ff&o)<<8,a.i[f]=(o>>>16|o<<16)>>>17}function v(r,e,a){for(;0!=e--;)r.push(0,a)}for(var f=0;f<32;f++)a.B[f]=a.o[f]<<3|a.z[f],a.h[f]=a.p[f]<<4|a.w[f];function s(r,e,a){return(r[e>>>3]|r[(e>>>3)+1]<<8)>>>(7&e)&(1<<a)-1}function u(r,e,a){return(r[e>>>3]|r[(e>>>3)+1]<<8|r[(e>>>3)+2]<<16)>>>(7&e)&(1<<a)-1}function l(r,e){return(r[e>>>3]|r[(e>>>3)+1]<<8|r[(e>>>3)+2]<<16)>>>(7&e)}function c(r,e){var a=r.length;if(e<=a)return r;var t=new Uint8Array(Math.max(a<<1,e));return t.set(r,0),t}function d(r,e,a,t){for(var n=0,i=0,f=t.length>>>1;i<a;){var o=r[i+e];t[i<<1]=0,t[(i<<1)+1]=o,o>n&&(n=o),i++}for(;i<f;)t[i<<1]=0,t[(i<<1)+1]=0,i++;return n}return v(a.s,144,8),v(a.s,112,9),v(a.s,24,7),v(a.s,8,8),t(a.s,9),n(a.s,9,a.g),i(a.s,9),v(a.t,32,5),t(a.t,5),n(a.t,5,a.A),i(a.t,5),v(a.b,19,0),v(a.c,286,0),v(a.e,30,0),v(a.a,320,0),function(r,e){var i,f,o=Uint8Array,v=0,h=0,w=0,g=0,x=0,b=0,_=0,p=0,m=0;if(3==r[0]&&0==r[1])return e||new o(0);var A=null==e;for(A&&(e=new o(r.length>>>2<<3));0==v;){if(v=u(r,m,1),h=u(r,m+1,2),m+=3,0==h){(7&m)!=0&&(m+=8-(7&m));var U=(m>>>3)+4,I=r[U-4]|r[U-3]<<8;A&&(e=c(e,p+I)),e.set(new o(r.buffer,r.byteOffset+U,I),p),m=U+I<<3,p+=I;continue}if(A&&(e=c(e,p+131072)),1==h&&(i=a.g,f=a.A,b=511,_=31),2==h){w=s(r,m,5)+257,g=s(r,m+5,5)+1,x=s(r,m+10,4)+4,m+=14;for(var y=1,E=0;E<38;E+=2)a.b[E]=0,a.b[E+1]=0;for(var E=0;E<x;E++){var M=s(r,m+3*E,3);a.b[(a.d[E]<<1)+1]=M,M>y&&(y=M)}m+=3*x,t(a.b,y),n(a.b,y,a.C),i=a.k,f=a.n,m=function(r,e,a,t,n,i){for(var f=0;f<a;){var o=r[l(t,n)&e];n+=15&o;var v=o>>>4;if(v<=15)i[f]=v,f++;else{var u=0,c=0;16==v?(c=3+s(t,n,2),n+=2,u=i[f-1]):17==v?(c=3+s(t,n,3),n+=3):18==v&&(c=11+s(t,n,7),n+=7);for(var d=f+c;f<d;)i[f]=u,f++}}return n}(a.C,(1<<y)-1,w+g,r,m,a.a);var D=d(a.a,0,w,a.c);b=(1<<D)-1;var k=d(a.a,w,g,a.e);_=(1<<k)-1,t(a.c,D),n(a.c,D,i),t(a.e,k),n(a.e,k,f)}for(;;){var B=i[l(r,m)&b];m+=15&B;var F=B>>>4;if(F>>>8==0)e[p++]=F;else if(256==F)break;else{var P=p+F-254;if(F>264){var C=a.B[F-257];P=p+(C>>>3)+s(r,m,7&C),m+=7&C}var L=f[l(r,m)&_];m+=15&L;var S=L>>>4,G=a.h[S],N=(G>>>4)+u(r,m,15&G);for(m+=15&G,A&&(e=c(e,p+131072));p<P;)e[p]=e[p++-N],e[p]=e[p++-N],e[p]=e[p++-N],e[p]=e[p++-N];p=P}}}return e.length==p?e:e.slice(0,p)}}(),E.LosslessJpegDecode=function(){var r,e;function a(){return r[e++]}function t(){return r[e++]<<8|r[e++]}function n(r){for(var e=r.c,a=r.f;e<25&&r.d<r.a;){var t=r.data[r.d++];255==t&&!r.b&&r.d++,a=a<<8|t,e+=8}if(e<0)throw"e";r.c=e,r.f=a}function i(r,e){return e.c<r&&n(e),e.f>>(e.c-=r)&65535>>16-r}function f(r,e){var a=r[0],t=0,i=255;e.c<16&&n(e);var f=e.f>>e.c-8&255;for(i=a[(t=r[1][f])+3],e.c-=a[t+2];255==i;)t=a[t+(e.f>>--e.c&1)],i=a[t+3];return i}function o(r,e){return r<32768>>16-e&&(r+=-(1<<e)+1),r}function v(r,e,a,t,n,v){for(var s=0,u=0;u<v;u++){for(var l=u*e,c=0;c<e;c+=n){s++;for(var d=0;d<n;d++)r[l+c+d]=function(r,e){var a=f(r,e);return 0==a?0:16==a?-32768:o(i(a,e),a)}(t[d],a)}if(0!=a.e&&s%a.e==0&&0!=u){for(var h=a.d,w=a.data;255!=w[h]||!(208<=w[h+1]&&w[h+1]<=215);)h--;a.d=h+2,a.f=0,a.c=0}}}function s(r,e,a,t,n,i,f,o){for(var v=a*f,s=n;s<i;s++)r[s]+=1<<o-1;for(var u=f;u<v;u+=f)for(var s=n;s<i;s++)r[u+s]+=r[u+s-f];for(var l=1;l<t;l++){for(var c=l*v,s=n;s<i;s++)r[c+s]+=r[c+s-v];for(var u=f;u<v;u+=f)for(var s=n;s<i;s++){var d=c+u+s,h=d-v,w=r[d-f],g=0;if(0==e)g=0;else if(1==e)g=w;else if(2==e)g=r[h];else if(3==e)g=r[h-f];else if(4==e)g=w+(r[h]-r[h-f]);else if(5==e)g=w+(r[h]-r[h-f]>>>1);else if(6==e)g=r[h]+(w-r[h-f]>>>1);else if(7==e)g=w+r[h]>>>1;else throw e;r[d]+=g}}}return function(n){if(r=n,e=0,65496!=t())throw"e";for(var u=[],l=0,c=0,d=0,h=[],w=[],g=[],x=0,b=0,_=0;;){var p=t();if(65535==p){e--;continue}var m=t();if(65475==p){c=a(),b=t(),_=t(),x=a();for(var A=0;A<x;A++){var U=a(),I=a();if(0!=a())throw"e";u[U]=[A,I>>4,15&I]}}else if(65476==p)for(var y=e+m-2;e<y;)!function(r){for(var e=a(),t=[0,0,0,255],n=[],i=0;i<16;i++)n[i]=a();for(var i=0;i<16;i++)for(var f=0;f<n[i];f++){var o=function r(e,a,t,n){if(255!=e[a+3])return 0;if(0==t)return a;for(var i=0;i<2;i++){0==e[a+i]&&(e[a+i]=e.length,e.push(0,0,n,255));var f=r(e,e[a+i],t-1,n+1);if(0!=f)return f}return 0}(t,0,i+1,1);t[o+3]=a()}var v=new Uint8Array(256);r[e]=[new Uint8Array(t),v];for(var i=0;i<256;i++){for(var s=8,u=i,l=0,c=0;255==t[l+3]&&0!=s;)l=t[l+(u>>--s&1)];v[i]=l}}(w);else if(65498==p){e++;for(var A=0;A<x;A++){var E=u[a()];g[E[0]]=w[a()>>>4],h[E[0]]=E.slice(1)}l=a(),e+=2;break}else 65501==p?d=t():e+=m-2}var M=new(c>8?Uint16Array:Uint8Array)(b*_*x),D={c:0,f:0,b:8==l,d:e,data:r,a:r.length,e:d};if(D.b)!function(a,t,n,v,s){for(var u=r.length-e,l=0;l<u;l+=4){var c=r[e+l];r[e+l]=r[e+l+3],r[e+l+3]=c;var c=r[e+l+1];r[e+l+1]=r[e+l+2],r[e+l+2]=c}for(var d=0;d<s;d++)for(var h=32768,w=32768,g=0;g<t;g+=2){var x=f(v,n),b=f(v,n);0!=x&&(h+=o(i(x,n),x)),0!=b&&(w+=o(i(b,n),b)),a[d*t+g]=65535&h,a[d*t+g+1]=65535&w}}(M,_*x,D,g[0],b);else{for(var k=[],B=0,F=0,A=0;A<x;A++){var P=h[A],C=P[0],L=P[1];C>B&&(B=C),L>F&&(F=L),k.push(C*L)}if(1!=B||1!=F){if(3!=x||1!=k[1]||1!=k[2]||2!=B||1!=F&&2!=F)throw"e";for(var S=[],G=0,A=0;A<x;A++){for(var N=0;N<k[A];N++)S.push(g[A]);G+=k[A]}var O=_/B,J=b/F,W=O*J;v(M,O*G,D,S,G,J),s(M,l,O,J,G-2,G,G,c);var j=new Uint16Array(W*k[0]);if(2==B&&2==F){for(var A=0;A<W;A++)j[4*A]=M[6*A],j[4*A+1]=M[6*A+1],j[4*A+2]=M[6*A+2],j[4*A+3]=M[6*A+3];s(j,l,4*O,J,0,1,1,c);for(var A=0;A<W;A++)M[6*A]=j[4*A],M[6*A+1]=j[4*A+1],M[6*A+2]=j[4*A+2],M[6*A+3]=j[4*A+3]}if(2==B&&1==F){for(var A=0;A<W;A++)j[2*A]=M[4*A],j[2*A+1]=M[4*A+1];s(j,l,2*O,J,0,1,1,c);for(var A=0;A<W;A++)M[4*A]=j[2*A],M[4*A+1]=j[2*A+1]}for(var T=M.slice(0),L=0;L<b;L++)if(2==F)for(var C=0;C<_;C++){var R=(L*_+C)*x,q=((L>>>1)*O+(C>>>1))*G,Z=(1&L)*2+(1&C);M[R]=T[q+Z],M[R+1]=T[q+4],M[R+2]=T[q+5]}else for(var C=0;C<_;C++){var R=(L*_+C)*x,q=(L*O+(C>>>1))*G,Z=1&C;M[R]=T[q+Z],M[R+1]=T[q+2],M[R+2]=T[q+3]}}else if(v(M,_*x,D,g,x,b),0==d)s(M,l,_,b,0,x,x,c);else for(var H=Math.floor(d/_),L=0;L<b;L+=H){var Q=M.slice(L*_*x,(L+H)*_*x);s(Q,l,_,H,0,x,x,c),M.set(Q,L*_*x)}}return[M,_,b,x]}}(),function(){function r(r){for(var e=[[],[],[]],a=Math.max(2,r.w+32>>>6),t=0;t<3;t++)for(var n=0;n<41;n++)e[t][n]=[a,1];return e}function e(r,e){var a=0,t=8-r.a;if(r.j,r.a,e){if(e>=t)do a<<=t,e-=t,a|=r[r.j]&(1<<t)-1,r.j++,t=8;while(e>=8);e&&(a<<=e,t-=e,a|=r[r.j]>>>t&(1<<e)-1),r.a=8-t}return a}function a(r,a,t,n,i,f,o,v){null==v&&(v=0);var s,u,l,c,d,h,w=f+1,g=w%2,x=0,b=n[i],_=n[i-1],p=n[i-2][w],m=_[w-1],A=_[w],U=_[w+1],I=b[w-1],y=b[w+1],E=Math.abs;if(g&&(l=E(U-A),c=E(p-A),d=E(m-A)),g){if(h=(h=l>d&&c<l?p+m:l<d&&c<d?p+U:U+m)+2*A>>>2,v){b[w]=h;return}s=a.t*a.c[r.g+A-p]+a.c[r.g+m-A]}else h=A>m&&A>U||A<m&&A<U?y+I+2*A>>>2:I+y>>>1,s=a.t*a.c[r.g+A-m]+a.c[r.g+m-I];u=E(s);var M=function(r){for(var e=-1,a=0;!a;e++)a=r[r.j]>>>7-r.a&1,r.a++,r.a&=7,!r.a&&r.j++;return e}(t);if(M<r.n-a.v-1){var D=function(r,e){var a=0;if(e<r)for(;a<=14&&e<<++a<r;);return a}(o[u][0],o[u][1]);x=e(t,D)+(M<<D)}else x=e(t,a.v)+1;x=1&x?-1-(x>>>1):x>>>1,o[u][0]+=E(x),o[u][1]==r.f&&(o[u][0]>>>=1,o[u][1]>>>=1),o[u][1]++,h=s<0?h-x:h+x,r.i&&(h<0?h+=a.w:h>r.g&&(h-=a.w)),b[w]=h>=0?Math.min(h,r.g):0}function t(r,e,a){for(var t=r[0].length,n=e;n<=a;n++)r[n][0]=r[n-1][1],r[n][t-1]=r[n-1][t-2]}function n(r){t(r,7,12),t(r,2,4),t(r,15,17)}function i(r,e,t,i,f,o,v,s,u,l,c,d,h){for(var w=0,g=1,x=f<13&&f>4;g<r.m;)w<r.m&&(a(r,e,t,i,f,w,v[u],r.h&&(x&&l||!x&&(c||(w&d)==h))),a(r,e,t,i,o,w,v[u],r.h&&(!x&&l||x&&(c||(w&d)==h))),w+=2),w>8&&(a(r,e,t,i,f,g,s[u]),a(r,e,t,i,o,g,s[u]),g+=2);n(i)}E._decompressRAF=function(e,a){var t=function(r){var e=E._binBE.readUshort,a={b:e(r,0),i:r[2],C:r[3],u:r[4],q:e(r,5),k:e(r,7),e:e(r,9),l:e(r,11),s:r[13],d:e(r,14)};if(18771!=a.b||a.i>1||a.q<6||a.q%6||a.e<768||a.e%24||768!=a.l||a.k<a.l||a.k%a.l||a.k-a.e>=a.l||a.s>16||a.s!=a.k/a.l||a.s!=Math.ceil(a.e/a.l)||a.d!=a.q/6||12!=a.u&&14!=a.u&&16!=a.u||16!=a.C&&0!=a.C)throw"Invalid data";if(0==a.i)throw"Not implemented. We need this file!";return a.h=16==a.C,a.m=(a.h?2*a.l/3:a.l>>>1)|0,a.A=a.m+2,a.f=64,a.g=(1<<a.u)-1,a.n=4*a.u,a}(e),f=function(r,e){var a=Array(e.s),t=4*e.s,n=16+t;12&t&&(n+=16-(12&t));for(var i=0,f=16;i<e.s;f+=4){var o=E._binBE.readUint(r,f);a[i]=r.slice(n,n+o),a[i].j=0,a[i].a=0,n+=o,i++}if(n!=r.length)throw"Invalid data";return a}(e,t),o=(!function(r,e,a){var t=[0,18,5*e+67,7*e+276,a];r.o=e,r.w=(t[4]+2*e)/(2*e+1)+1|0,r.v=Math.ceil(Math.log2(r.w)),r.t=9;for(var n=r.c,i=-t[4],f=0;i<=t[4];f++,i++)n[f]=i<=-t[3]?-4:i<=-t[2]?-3:i<=-t[1]?-2:i<-t[0]?-1:i<=t[0]?0:i<t[1]?1:i<t[2]?2:i<t[3]?3:4}(d={c:new Int8Array(2<<t.u)},0,t.g),d),v=new Int16Array(t.e*t.q);null==a&&(a=t.h?[[1,1,0,1,1,2],[1,1,2,1,1,0],[2,0,1,0,2,1],[1,1,2,1,1,0],[1,1,0,1,1,2],[0,2,1,2,0,1]]:[[0,1],[3,2]]);for(var s=[[0,3],[1,4],[5,11],[6,12],[13,16],[14,17]],u=[],l=0;l<18;l++)u[l]=new Uint16Array(t.A);for(var c=0;c<t.s;c++){for(var d,h,w=r(o),g=r(o),l=0;l<18;l++)for(var x=0;x<t.A;x++)u[l][x]=0;for(var b=0;b<t.d;b++){i(t,o,h=f[c],u,2,7,w,g,0,0,1,0,8),i(t,o,h,u,8,15,w,g,1,0,1,0,8),i(t,o,h,u,3,9,w,g,2,1,0,3,0),i(t,o,h,u,10,16,w,g,0,0,0,3,2),i(t,o,h,u,4,11,w,g,1,0,0,3,2),i(t,o,h,u,12,17,w,g,2,1,0,3,0);for(var l=0;l<6;l++)for(var x=0;x<t.A;x++)u[s[l][0]][x]=u[s[l][1]][x];!function(r,e,a,t,n,i){var f=i.length,o=r.l;n+1==r.s&&(o=r.e-n*r.l);for(var v=6*r.e*t+n*r.l,s=0;s<6;s++){for(var u=0;u<o;u++){var l,c=i[s%f][u%f];l=0==c?2+(s>>>1):2==c?15+(s>>>1):7+s;var d=r.h?(2*u/3&0x7ffffffe|u%3&1)+(u%3>>>1):u>>>1;e[v+u]=a[l][d+1]}v+=r.e}}(t,v,u,b,c,a);for(var l=2;l<18;l++)if(-1==[5,6,13,14].indexOf(l))for(var x=0;x<t.A;x++)u[l][x]=0;n(u)}}return v}}()}()}}]);